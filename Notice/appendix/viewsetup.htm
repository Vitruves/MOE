<!DOCTYPE html>
<html>

<!--
!!    MOE On-Line Manuals
!!    COPYRIGHT (C) CHEMICAL COMPUTING GROUP ULC.  ALL RIGHTS RESERVED.
!!-->
<head>
  <meta http-equiv="x-ua-compatible" content="IE=9" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../include/manstyle.css" />
  <link rel="icon" type="image/png" href="../images/ccgicon.png" />
  <link rel="shortcut icon" type="image/png" href="../images/ccgicon.png" />
  <title>3D Visualization Setup</title>
  <meta name="keywords" content="panel: Visualization Setup" />
  <meta name="keywords" content="panel: Stereo Settings" />
  <meta name="keywords" content="panel: Graphics Card Information" />
</head>
<body>
<div class="center-page">
  <!-- START MOE_HEADER -->
  <div class="MOE_HEADER">
    <a href="../index.htm"><img src="../images/ccglogo.png" /></a>
    <a href="../index.htm"><div class="moeversion"></div></a>
    3D Visualization Setup
  </div>
<!-- END MOE_HEADER -->
<div class="content">
  <ul>
    <li>
      <a href="#RealTimeRayTracing">High Quality Graphics</a>
    </li>
    <li>
      <a href="#Examples">Creating Publication-Ready Images</a>
      <ul>
        <li>
          <a class="example" href="#Examples">Schematic Style</a>
        </li>
        <li>
          <a class="example" href="#Examples2">Create and Use a New Visual
          Theme</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="#VisualizationSetup">Visualization Setup</a>
      <ul>
        <li>
          <a href="#Themes">Themes</a>
        </li>
        <li>
          <a href="#LightMaterial">Light & Material</a>
        </li>
        <li>
          <a href="#Background">Background</a>
        </li>
        <li>
          <a href="#EffectsText">Effects & Text</a>
        </li>
        <li>
          <a href="#MoleculesRibbons">Molecules & Ribbons</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="#StereoSettings">Stereo Settings</a>
    </li>
    <li>
      <a href="#GraphicsCardInformation">Graphics Card Information</a>
    </li>
    <li>
      <a href="#AntiAliasing">Full-Scene Anti-Aliasing</a>
    </li>
    <li>
      <a href="#KnownIssues">Known Issues</a>
    </li>
    <li>
      <a href="#SVLCommands">SVL Commands</a>
    </li>
  </ul>
  <!-- ======================== HIGH QUALITY GRAPHICS ====================== -->
<a id="RealTimeRayTracing"></a>
<h1>High Quality Graphics with Real-Time Ray-Tracing</h1>

<p>MOE graphics can be run in three different modes depending on the graphics
  card capabilities. MOE automatically checks the graphics card abilities and
  chooses the best possible graphics mode.</p>
  <center>
    <table class="noborder">
      <tr>
        <td>
          <img src="viewsetup/raytrace.png" alt="Ray Tracing" />

<p class="caption">Ray Tracing</p>
        </td>
        <td>
          <img src="viewsetup/ppl.png" alt="Per-Pixel-Lighting" />

<p class="caption">Per-Pixel-Lighting</p>
        </td>
        <td>
          <img src="viewsetup/classic.png" alt="Classic Rendering" />

<p class="caption">Classic</p>
        </td>
      </tr>
    </table>
  </center>

<h2>Real-Time Ray-Tracing</h2>

<p>Real-Time Ray-Tracing is the default graphics mode in MOE. It provides the
  highest visual quality by rendering atom spheres and bond cylinders with a
  ray-tracing algorithm executed directly on the graphics card. For all other
  objects the lighting calculations are done on every pixel for best visual
  quality. Both methods are implemented with the OpenGL Shading Language
  (GLSL), an OpenGL extension which is the cornerstone for current and future
  high-quality visualization.</p>

<p><b>Note:</b> The real-time ray-tracing algorithm needs a modern graphics
  card (manufactured around or after 2006) with OpenGL version 2.1 and GLSL
  version 1.1 support.</p>

<h2>Per-Pixel-Lighting</h2>

<p>This mode is the fallback for older graphics drivers, which do not fully
  implement support for GLSL version 1.1. All graphics objects on the screen
  are rendered using triangle meshes (the traditional method). But the lighting
  calculation is done for each pixel, which provides a superior visual quality
  than standard OpenGL rendering.</p>

<p><b>Note:</b> The Per-Pixel-Lighting method requires basic GLSL support in
  the graphics driver.</p>

<h2>Classic Rendering</h2>

<p>Very old graphics cards and drivers have no GLSL support. In such cases
  traditional OpenGL rendering without extensions is used. The classic mode has
  no special graphics card requirements.</p>
  <!-- ============================== EXAMPLES ============================= -->
<a id="Examples"></a>
<h1>Creating Publication-Ready Images</h1>
  <div class="example">

<h1>Example 1: Schematic Style</h1>
    <ol>
      <li>Clear the molecular data in MOE with <span class="nobr"><b>MOE | File
      | Close</b></span> and ensure that there are no running tasks (use the
      Cancel menu in the MOE window).</li>
      <li>

<p>Load the protein 1RO6 with <span class="nobr"><b>MOE | File |
        Open</b></span>: Select <tt>$MOE/sample/mol/1RO6.moe.gz</tt>.</p>
      </li>
      <li>Change the rendering style:
        <ul>
          <li><span class="nobr"><b>MOE | Render | Atoms | Ball And
          Stick</b></span></li>
          <li>Select the ligand: <span class="nobr"><b>MOE | Select |
          Ligand</b></span></li>
          <li><span class="nobr"><b>MOE | Render | Atoms |
          Spacefill</b></span></li>
          <li>Zoom into the active site while the ligand is still selected with
          <span class="nobr"><b>MOE | Render | Center</b></span></li>
          <li>Unselect ligand atoms by clicking into empty space</li>
        </ul>
      </li>
      <li>

<p>Open the Visualization Setup panel: <span class="nobr"><b>MOE |
        Render | Setup</b></span></p>
      </li>
      <li>

<p>Load the <tt>Schematic</tt> theme from the <b>Theme</b>
        pulldown.</p>
      </li>
      <li>

<p>Open the Save Picture panel with the <b>Save Picture</b> option on
        the bottom of the Visualization Setup panel. Make sure that
        <tt>Portable Network Graphics (.png)</tt> is selected as the output
        <b>Format</b>.</p>
      </li>
      <li>

<p>Select <tt>Journal Small</tt> in the shortcut list of the
        <b>Dimension</b> text field. That will set the output dimensions to
        1050 x 750 pixels, which translates to a 3.5 x 2.5 inch picture at 300
        dpi (column sized journal picture).</p>
      </li>
      <li>

<p>Check that the option <b>Anti-Alias Picture</b> is on, to ensure
        maximum quality. Select a file name at the top (e.g.
        <tt>schematic.png</tt>) and then press <b>OK</b>. The picture will be
        re-rendered with the desired dimensions and saved to the specified
        file.</p>
        <img src="viewsetup/schematic.png" alt="Schematic Drawing" class="center" />
      </li>
      <li>Return to the default visualization settings using the <b>Default
      Theme</b> button at the bottom of the Visualization Setup panel.</li>
    </ol>
  </div>
<a id="Examples2"></a>
<div class="example">

<h1>Example 2: Create and Use a New Visual Theme</h1>
    <ol>
      <li>

<p>Clear the molecular data in MOE with <span class="nobr"><b>MOE |
        File | Close</b></span> and ensure that there are no running tasks (use
        the Cancel menu in the MOE window).</p>
      </li>
      <li>

<p>Load biotin and a biotin receptor with <span class="nobr"><b>MOE |
        File | Open</b></span>: Select
        <tt>$MOE/sample/mol/biotin_rec.moe.gz</tt> and <tt>biotin.moe</tt>.</p>
      </li>
      <li>Change the rendering style of the active site:
        <ul>
          <li>Select the ligand: <span class="nobr"><b>MOE | Select |
          Ligand</b></span></li>
          <li>Zoom into the active site with <span class="nobr"><b>MOE | Render
          | Center</b></span> and the mouse wheel.</li>
          <li><span class="nobr"><b>MOE | Render | Atoms | Ball and
          Stick</b></span></li>
          <li>Unselect ligand atoms by clicking into empty space</li>
        </ul>
      </li>
      <li>

<p>Open the Visualization Setup panel: <span class="nobr"><b>MOE |
        Render | Setup</b></span></p>
      </li>
      <li>

<p>Make sure that the <tt>Standard</tt> theme is selected in the
        <b>Theme</b> pulldown.</p>
      </li>
      <li>

<p>Change the lighting. Select the <b>Preset</b> <tt>2 Lights</tt> and
        adjust light directions and colors to your liking. To change the
        direction of the second light source, select it (<tt>Light 2</tt>) in
        the <b>Lights</b> radio buttons and rotate the trackball in the middle
        of the panel.</p>
      </li>
      <li>

<p>Manipulate the material properties to make the hetero atoms stand
        out a little bit more:</p>
        <ul>
          <li>Increase the <b>Gloss (G)</b> value of the <b>Material</b>
          <tt>Atom Nucleus</tt>.</li>
          <li>Select the <tt>Carbon Nucleus</tt> material and decrease the
          <b>Gloss (G)</b> and (slightly) the <b>Shading (S)</b> values.</li>
        </ul>
      </li>
      <li>

<p>Switch to the <b>Background</b> page of the panel and choose the
        <tt>circular fade</tt> <b>Background Type</b>.</p>
      </li>
      <li>

<p>Switch to the <b>Effects & Text</b> page of the panel. Enable
        <b>Focal Blur</b> and set the blur value to <tt>0.7</tt>. To set the
        focus point onto the ligand click with the middle mouse button onto an
        atom in the ligand.</p>
      </li>
      <li>

<p>Notice the theme name <tt>Standard (modified)</tt> in blue. We based
        the visual settings on the standard theme, but have not yet saved the
        changes we made. To save the visualization settings into a new user
        theme select <b>New</b>, enter a new theme name (e.g. <tt>My
        Theme</tt>), and press <b>Save Theme</b>.</p>
      </li>
      <li>

<p>To create a picture, open the Save Picture panel with the <b>Save
        Picture</b> option on the bottom of the Visualization Setup panel. Make
        sure that <tt>Portable Network Graphics (.png)</tt> is selected as the
        output <b>Format</b>.</p>
      </li>
      <li>

<p>Select <tt>PowerPoint</tt> in the shortcut list of the
        <b>Dimension</b> text field. This will set the output dimensions to
        1000 x 750 pixels, which is a good size for fullscreen pictures in a
        Microsoft PowerPoint slide.</p>
      </li>
      <li>

<p>Check that the options <b>Anti-Alias Picture</b> and <b>High
        Quality</b> are on, to ensure maximum quality. Select a file name at
        the top (e.g. <tt>mytheme.png</tt>) and then press <b>OK</b>. The
        picture will be re-rendered with the desired dimensions and saved to
        the specified file.</p>
        <img src="viewsetup/mytheme.jpg" alt=
          "Picture with Focal Blur Effect" class="center" />
      </li>
      <li>

<p>Return to the default visualization settings using the <b>Default
        Theme</b> button at the bottom of the Visualization Setup panel.</p>
      </li>
    </ol>
  </div>
  <!-- ======================== VISUALIZATION SETUP ======================== -->
<a id="VisualizationSetup"></a>
<h1>Visualization Setup</h1>
  <div class="floatright"><img src="viewsetup/viewsetup.png" alt=
  "Visualization Setup Panel" class="floatright" /></div>

<p>The Visualization Setup panel allows you to change lighting, material
  properties, backgrounds, colors, and other visual settings in MOE. Most
  parameters in this panel are not accessible from the MOE menus.<br />
  To open the Visualization Setup panel, choose <span class="nobr"><b>MOE |
  Render | Setup</b></span> in the MOE Window.</p>

<p>The panel consists of four pages:</p>
  <ul>
    <li>
      <a href="#LightMaterial">Light & Material</a>
    </li>
    <li>
      <a href="#Background">Background</a>
    </li>
    <li>
      <a href="#EffectsText">Effects & Text</a>
    </li>
    <li>
      <a href="#MoleculesRibbons">Molecules & Ribbons</a>
    </li>
  </ul>

<p>Each page contains options that are set using graphical devices such as
  color pickers, sliders, spin buttons and text fields. When you change
  parameter values using the graphical devices, the current sessional
  parameters themselves are updated, and their new values are reflected
  immediately in the MOE Window. Settings currently in effect remain so for the
  duration of the session and are lost when you close MOE unless they are saved
  beforehand in a user theme.</p>
  <!-- ============================== THEMES =============================== -->
<a id="Themes"></a>
<h2>Themes</h2>

<p>Themes are collections of visualization settings. All settings of the
  Visualization Setup panel can be stored in a theme. Loading a theme updates
  all visualization settings in the panel and refreshes the molecule viewing
  area. Multiple themes can be created. Themes created by the user will be
  stored in the file <tt>moe-themes</tt> (on Unix <tt>.moe-themes</tt>) in the
  user <tt>$HOME</tt> directory.</p>

<p>By default several standard system themes are already available in the
  Visualization Setup panel. These themes are read-only and cannot be deleted
  or overwritten by the user. Any of the themes can be selected as the startup
  theme, which will be loaded whenever MOE starts.</p>

<p><br clear="both" /></p>
  <table class="noborder">
    <tr>
      <td><b>Theme</b></td>
      <td>List of available visualization themes. The list
      includes system and user themes. Selecting a theme name will load the
      associated visualization settings into the panel and apply them
      immediately.</td>
    </tr>
    <tr>
      <td><b>New</b></td>
      <td>
        <div class="floatright">
          <img src="viewsetup/savetheme.png" alt="Save New Theme" class="floatright" />

<p class="caption">Choose Theme Name</p>
        </div>Save current visualization settings as a new theme into the
        user's themes configuration file <tt>($HOME/moe-theme)</tt>. The
        <b>Theme</b> option menu will change into a text edit box to enter the
        new theme name. New theme names with spaces in front or back will not
        be accepted as well as names of existing system themes (which cannot be
        overwritten).
      </td>
    </tr>
    <tr>
      <td><b>Save</b></td>
      <td>
        Overwrite current theme with the modified visualization settings. The
        <b>Save</b> option is only available if the selected theme was modified
        and is a user theme, which can be overwritten.

<p><span class="tip"><b>Tip!</b></span> To save changes in a system
        theme, create a new user theme using the <b>New</b> option.</p>
      </td>
    </tr>
    <tr>
      <td><b>Delete</b></td>
      <td>Delete currently selected <b>Theme</b>. Only themes from
      the user's themes file <tt>($HOME/moe-themes)</tt> can be
      deleted.</td>
    </tr>
    <tr>
      <td><b>Undo</b></td>
      <td>Revert changes in the currently selected <b>Theme</b>.
      This option is only available if the visualizations settings were
      modified.</td>
    </tr>
    <tr>
      <td><b><nobr>Use On Startup</nobr></b></td>
      <td>Select the current <b>Theme</b> to be loaded the next
      time MOE is started, otherwise the <b>Default Theme</b> will be loaded.
      By default the system theme <tt>Standard</tt> is loaded on startup.
      Modified themes need to be saved before they can be assigned as startup
      theme.</td>
    </tr>
    <tr>
      <td><b><nobr>Default Theme</nobr></b></td>
      <td>Load and apply the settings of the default startup
      theme. The default theme is set with the <b>Use On Startup</b>
      option.</td>
    </tr>
    <tr>
      <td><b><nobr>Save Picture</nobr></b></td>
      <td>
        Shortcut to <a href="../apps/filesave.htm#Picture">Save Picture
        panel</a> (<span class="nobr"><b>MOE | File | Save</b></span>).
      </td>
    </tr>
  </table>
  <div class="extra_info">

<h3>Import User Themes</h3>

<p>User themes, created by others, can be imported using SVL
    functions.<br />
    The list of themes in a <tt>moe-themes</tt> file is printed on the command
    line with <span class="fcndef">ViewSetupList</span>.</p>

<pre>
    svl&gt; <span class=
"fcndef">first ViewSetupList</span> 'moe-themes.joe'
    ['My Theme 1', 'My Theme 2']
</pre>

<p>In this case, the file <tt>moe-themes.joe</tt> is a copy of the
    <tt>moe-themes</tt> file from another user's home directory.</p>

<p>The requested theme is loaded with the function <span class=
    "fcndef">ViewSetupLoad</span>.</p>

<pre>
    svl&gt; <span class=
"fcndef">ViewSetupLoad</span> ['My Theme 1', 'moe-themes.joe']
</pre>

<p>To save the current settings as theme with the name <tt>'My New
    Theme'</tt>:</p>

<pre>
    svl&gt; <span class="fcndef">ViewSetupSave</span> 'My New Theme'
</pre>
  </div>
  <!-- ==========================LIGHT & MATERIAL ========================== -->
<a id="LightMaterial"></a>
<h2>Light & Material</h2>

<p>The light and material parameters in the Visualization Setup panel
  determine how the surfaces of shaded objects (ribbons, atom spheres, atom
  bonds, etc.) will look in the MOE Window. For a shaded object, the color and
  shade of its surface is determined by:</p>
  <ul>
    <li>The light illuminating the surface.</li>
    <li>The surface's material properties.</li>
  </ul>
  <!-- =============================== LIGHTS ============================== -->

<h2>Lights</h2>
  <div class="floatright">
    <img src="viewsetup/light.png" alt=
    "Light Options of Visualization Setup Panel" class="floatright" />

<p class="caption">Light Options</p>
  </div>

<p>Directional illumination is provided in the MOE Window by a maximum of
  three point light sources. The positions and colors of these sources are set
  up in the upper part of the Light & Material page of the panel. Light
  directions can be easily set and adjusted with a trackball widget. A variety
  of different preset lighting situations are provided as well.</p>

<p><br clear="both" /></p>
  <table class="noborder">
    <tr>
      <td><b>Lights</b></td>
      <td>Select the Light source <b>Light 1</b>, <b>Light 2</b>,
      or <b>Light 3</b> to configure. The small symbol on the right in each
      radio button shows the current color of the light. A red X indicates that
      the light is off.</td>
    </tr>
    <tr>
      <td><b>Preset</b></td>
      <td>Shortcut to a selection of different preset lighting
      setups. The presets include setups with one, two, or three lights in
      various positions and colors.</td>
    </tr>
    <tr>
      <td><b>Color</b></td>
      <td>Color of the selected light source. To dim a light
      select a darker color. To turn a light off completely set its color to
      black.</td>
    </tr>
    <tr>
      <td><span class="nobr"><b>X, Y, Z</b></span></td>
      <td>Direction of the selected light source. Use the
      trackball to change the light direction. Alternatively, the direction
      vector can be entered directly into the <b>X</b>, <b>Y</b>, or <b>Z</b>
      text boxes and applied by hitting <tt>Return</tt>.</td>
    </tr>
  </table>
  <!-- ============================== MATERIALS ============================ -->

<h2>Materials</h2>
  <div class="floatright">
    <img src="viewsetup/material.png" alt=
    "Material Options of Visualization Setup Panel" class="floatright" />

<p class="caption">Material Options</p>
  </div>

<p>The principal material property affecting the appearance of a surface is
  its reflectance, i.e. how light is reflected off its surface. If the surface
  reflects various wavelengths of light differently, it will appear to be
  colored. If it is highly reflective, it will appear bright. Other material
  properties result in special effects: A shiny surface may show specular
  highlights. A transparent surface may transmit light. The reflected light
  from a surface is a combination of ambient, diffuse and specular
  contributions.</p>

<p>The influence of ambient, diffuse, or specular reflection coefficients and
  especially their combinations are hard to picture. Therefore the material
  parameter section of the panel combines these material properties into two
  values: <b>Shading</b> and <b>Gloss</b>.</p>

<p>Shading is a value between 0 and 255 which describes how three-dimensional
  an object looks. At a value of 0 the object looks completely flat, the
  direction of the light shining on it is irrelevant. At 255 the opposite is
  true. The gloss value (0-255) defines how shiny/polished the object appears
  (i.e. if <em>specular</em> highlights are visible on the surface). Adjusting
  the shading and gloss values allows a wide variety of materials to be
  simulated. To help find the desired combination of shading and gloss, a set
  of various material presets (e.g. polished, brushed, rubber, etc.) can be
  selected from in the <b>Materials</b> settings panels.</p>
  <center>
    <table class="noborder width-75p">
      <tr>
        <td>
          <center>
            <img src="viewsetup/polished.png" alt="Material: Polished" />

<p class="caption">Polished</p>
          </center>
        </td>
        <td>
          <center>
            <img src="viewsetup/brushed.png" alt="Material: Brushed" />

<p class="caption">Brushed</p>
          </center>
        </td>
        <td>
          <center>
            <img src="viewsetup/rubber.png" alt="Material: Rubber" />

<p class="caption">Rubber</p>
          </center>
        </td>
      </tr>
      <tr>
        <td>
          <center>
            <img src="viewsetup/plastic.png" alt="Material: Plastic" />

<p class="caption">Plastic</p>
          </center>
        </td>
        <td>
          <center>
            <img src="viewsetup/pearl.png" alt="Material: Pearl" />

<p class="caption">Pearl</p>
          </center>
        </td>
        <td>
          <center>
            <img src="viewsetup/glass.png" alt="Material: Glass" />

<p class="caption">Glass</p>
          </center>
        </td>
      </tr>
    </table>
  </center>

<p>The Visualization Setup panel allows you to independently configure the
  material properties of five different aspects of the molecular scene via
  popup material panels:</p>

<p><br clear="both" /></p>
  <center>
    <table class="titlebar">
      <tr>
        <th>Material</th>
        <th>Objects Affected by Material</th>
      </tr>
      <tr>
        <td><b>Atom Nucleus</b></td>
        <td>Heteroatoms and attached hydrogens. The material
        applies to the atom spheres in the display modes <span class=
        "nobr"><tt>Space Filling,</tt></span> <span class="nobr"><tt>Ball and
        Stick,</tt></span> and <span class="nobr"><tt>Ball and
        Line</tt></span>.</td>
      </tr>
      <tr>
        <td><b>Carbon Nucleus</b></td>
        <td>Carbon atoms and attached hydrogens. The material
        applies to the atom spheres in the display modes <span class=
        "nobr"><tt>Space Filling,</tt></span> <span class="nobr"><tt>Ball and
        Stick,</tt></span> and <span class="nobr"><tt>Ball and
        Line</tt></span>.</td>
      </tr>
      <tr>
        <td><b>Atom Bond</b></td>
        <td>Atomic bonds, hydrogen bonds, and van der Waals
        contacts.</td>
      </tr>
      <tr>
        <td><b>Ribbon</b></td>
        <td>Protein and nucleic acid ribbons.</td>
      </tr>
      <tr>
        <td><b>Surface Default</b></td>
        <td>Default material of surfaces and other graphic
        objects.</td>
      </tr>
    </table>
  </center>

<p>Any changes to the material using the options in the selected material
  panel is automatically applied. The following options are available to
  configure the selected material:</p>
  <div class="floatright">
    <img src="viewsetup/matwidget.png" alt="Material Settings Panel" class="floatright" />

<p class="caption">Material Settings Panel</p>
  </div>
  <table class="noborder">
    <tr>
      <td><b>Preset Styles</b></td>
      <td>Selection of preset material styles. Selecting one of
      the preset materials will set the <b>Shading</b>, <b>Gloss</b>, and
      <b>Brightness</b> values for the selected material.</td>
    </tr>
    <tr>
      <td><b>S (Shading)</b></td>
      <td>Value to determine the three-dimensional effect of the
      selected material. It combines the ambient and diffuse reflectance into
      one value. A low shading value makes object look <em>flat</em>.</td>
    </tr>
    <tr>
      <td><b>G (Gloss)</b></td>
      <td>Controls the strength and appearance of specular
      highlights, which make objects appear shiny. A high value results in a
      polished material look, while a low value is used for rough looking
      materials.</td>
    </tr>
    <tr>
      <td><b>B (Brightness)</b></td>
      <td>Overall amount of light reflected by the material.</td>
    </tr>
    <tr>
      <td><b><span class="nobr">T (Transparency)</span></b></td>
      <td>The degree to which ribbons are transparent. This option
      is only available when configuring the <b>Ribbon</b> material.</td>
    </tr>
    <tr>
      <td><b>Reset</b></td>
      <td>Resets <b>Shading</b>, <b>Gloss</b>, and
      <b>Brightness</b> (<b>Transparency</b> when available) to the settings
      when the materials panel opened.</td>
    </tr>
    <tr>
      <td><b>Save</b></td>
      <td>Save the current material settings as one of the preset
      styles.</td>
    </tr>
  </table>

<p>The following options can be used to link or transfer settings between
  different material.</p>
  <table class="noborder">
    <tr>
      <td><b>Link Carbon to<br />
      Atom Material</b></td>
      <td>If enabled, changes to the <b>Atom Nucleus</b> material
      will be immediately copied to the <b>Carbon Nucleus</b> material.</td>
    </tr>
    <tr>
      <td><b>Inherit Bond Material From Atom</b></td>
      <td>If enabled, atomic bonds inherit the material from its
      atom nuclei. The bonds will ignore in this case the <b>Atom Bond</b>
      material settings.</td>
    </tr>
    <tr>
      <td><b>Reset All<br />
      Visible Surfaces</b></td>
      <td>Reset the material of all visible surfaces with the
      current <b>Surface Default</b> material.</td>
    </tr>
    <tr>
      <td><b>Copy Material</b></td>
      <td>Copy the values of <b>Shading</b>, <b>Gloss</b>, or
      <b>Brightness</b> from one material to one or all other material.</td>
    </tr>
  </table>
  <!-- ============================= BACKGROUND= =========================== -->
<a id="Background"></a>
<h2>Background</h2>

<p>MOE allows the changing of background color and style. The <b>Background
  Type</b> radio buttons make it easy to change very quickly between six basic
  backgrounds. Depending on the specific selection, different options to
  further customize the background are available. The multi-colored backgrounds
  allow you to set up to three base colors and the location of the center color
  or the orientation of the color gradient. An additional option allows to load
  a custom image file as background.</p>
  <center>
    <img src="viewsetup/background.png" alt=
    "Background Page of Visualization Setup Panel" />

<p class="caption">Background Options</p>
  </center>
  <table class="noborder">
    <tr>
      <td><b>Background Type</b></td>
      <td>
        <div class="floatleft">
          <img src="viewsetup/b1.png" alt="Black Background" class="floatleft" />
          <p class="caption">Black</p>
        </div>
        <div class="floatleft">
          <img src="viewsetup/b2.png" alt="White Background" class="floatleft" />
          <p class="caption">White</p>
        </div>
        <div class="floatleft">
          <img src="viewsetup/b3.png" alt="Fade Background" class="floatleft" />
          <p class="caption">Fade</p>
        </div>
        <div class="floatleft">
          <img src="viewsetup/b4.png" alt="Split Background" class="floatleft" />
          <p class="caption">Split</p>
        </div>
        <div class="floatleft">
          <img src="viewsetup/b5.png" alt="Circular Background" class="floatleft" />
          <p class="caption">Circular Fade</p>
        </div>
        <div class="floatleft">
          <img src="viewsetup/b6.png" alt="Image Background" class="floatleft" />
	  <p class="caption">Image File</p>
        </div>
        <br clear="both" />
        The rightmost button of the <b>Background Type</b> radio buttons
        restores the background, which was set when the Visualization Setup
        panel was opened.
      </td>
    </tr>
    <tr>
      <td><b>Background</b></td>
      <td>Color of a solid-colored background.</td>
    </tr>
    <tr>
      <td><b>Text</b></td>
      <td>Color of atom labels and messages in the MOE
      Window.</td>
    </tr>
    <tr>
      <td><b>Top<br />
      Center<br />
      Middle<br />
      Bottom<br />
      Border</b></td>
      <td>Base colors of multi-colored background types
      (<b>Fade</b>, <b>Split</b>, and <b>Circular Fade</b>).</td>
    </tr>
    <tr>
      <td><b>Fog</b></td>
      <td>Color of the fog when a multi-colored background is
      selected.</td>
    </tr>
    <tr>
      <td><b>Rotate</b></td>
      <td>Rotate <b>Fade</b> or <b>Split</b> background by 90
      degrees.</td>
    </tr>
    <tr>
      <td><b>Fit</b></td>
      <td>If enabled, the background is stretched to fill the
      screen regardless of the window dimensions.</td>
    </tr>
    <tr>
      <td><b>Center</b></td>
      <td>Position of the center color of the <b>Split</b> and
      <b>Circular Fade</b> background types.</td>
    </tr>
    <tr>
      <td><b>Image</b></td>
      <td>File name of image to load into the background.
      The image file must be in PNG (Portable Network Graphics) format.
      Press the
      <img src="viewsetup/ico_browse.png" alt="Browse" class="icon" />
      button to open a file browser to locate the PNG image file.</td>
    </tr>
    <tr>
      <td><b>Fog Start</b></td>
      <td>Point at which distance dependent fading (Depth Cueing)
      begins to take effect (as a percentage of the system bounding box).</td>
    </tr>
    <tr>
      <td><b>Fog Strength</b></td>
      <td>Strength of the distance dependent fading beyond <b>Fog
      Start</b>.</td>
    </tr>
  </table>
  <div class="extra_info">

<h3>Customize Background</h3>

<p>Custom backgrounds can be created with SVL. The background is a
    two-dimensional <a href="../moe/fcnref/gobj.htm">graphics object</a>. It is
    accessed with the special graphics object key <tt>G_BACKGROUND_KEY</tt>.
    The following special considerations apply to background vertex
    objects.</p>
    <ul>
      <li>The background object key does not need to be created or
      destroyed.</li>
      <li>The background object is a flat unshaded object. i.e. Z-coordinates
      and normals are ignored.</li>
    </ul>Example code to create a checkerboard background:

<pre>
function checkerboard []
  <span class="fcndef">GSetTitle</span> [G_BACKGROUND_KEY, ''];
  <span class="fcndef">GClearVertexData</span> G_BACKGROUND_KEY;
  local n = 8, x = igen n;      // 8x8 checkerboard
  local n2 = sqr n, x2 = igen n2;
  <span class="fcndef">GVertex</span> [
    G_BACKGROUND_KEY,
    3,                  // triangle segments
    cat rep [[1,2,3,2,4,3], n2] + stretch [4 * (x2 - 1), 6], // idx
    icolor select['darkgray','black',stretch [cat odd (x + [x]), 4]],
    [                   // x,y,z
      cat rep[cat rep [[0,1,0,1], n] + stretch [x - 1, 4], n],
      cat rep [[0,0,1,1], n2] + stretch [x - 1, 4*n],
      rep[0, 4*n2]
    ] / (n/2) -1
  ];
endfunction
</pre>
  </div>
  <!-- =========================== EFFECTS & TEXT ========================== -->
<a id="EffectsText"></a>
<h2>Effects & Text</h2>
  <div class="floatright">
    <img src="viewsetup/effects.png" alt=
    "Effects & Text Page of Visualization Setup Panel" class="floatright" />

<p class="caption">Effects & Text Options</p>
  </div>

<p>The Effects & Text page contains graphic effects options to enhance
  molecule pictures (e.g. focal blur and silhouette outline) as well as the
  label text options.</p>

<p>The first two options (<b>Quality</b> and <b>Anti-Alias</b>) control the
  overall render quality. With the <b>Quality</b> radio buttons you can change
  the graphics mode.</p>

<p><span class="tip"><b>Caution!</b></span> The optimal graphics mode is
  determined automatically. Setting a higher graphics mode, which may not be
  supported by the graphics card, can result in graphic artifacts or slow
  rendering performance (See <a href="#KnownIssues">Known Issues</a>).</p>

<p><b>Anti-Alias</b> lets you switch the anti-alias modes. See the <a href=
  "#AntiAliasing">Full-Scene Anti-Aliasing</a> section for more information
  about the high quality anti-alias mode.</p>

<p><b>Note:</b> The <b>Quality</b> and <b>Anti-Alias</b> settings are
  <i>not</i> saved in the user theme file.</p>

<p>The focal blur effect is useful to draw attention to a specific part of a
  molecule (e.g. the active site) in static pictures. The silhouette outline
  effect can be used to create schematic like drawings of molecules.</p>

<p>The <b>Text & Labels</b> section of the page controls the size and color
  of labels in the MOE 3D window. By default atom labels (element symbols, atom
  names, residue names, etc.) scale together with the molecule on the screen.
  The standard height of a label character is 0.5 angstroms. To ensure
  readability, a minimum and maximum visible text size is enforced. This size
  range can be specified. In an alternative mode the label size is fixed
  relative to the size of the menu font. In that mode the atom labels will not
  scale together with the molecules.</p>

<p><br clear="both" /></p>
  <table class="noborder">
    <tr>
      <td><b>Quality</b></td>
      <td>
        Select graphics mode. The optimal setting is determined automatically.
        Graphic artifacts can occur if a mode is selected which is not
        supported by the graphics card/driver.
        <table class="noborder">
          <tr>
            <td><b>Classic</b></td>
            <td>MOE 2008 triangle-based graphics mode, no special
            graphics card support needed.</td>
          </tr>
          <tr>
            <td><b><span class="nobr">Per Pixel
            Light</span></b></td>
            <td>Lighting is calculated on every pixel, not just
            the triangle vertices, which improves e.g. specular highlights.
            This mode uses OpenGL shading language features and requires a
            modern graphics card.</td>
          </tr>
          <tr>
            <td><b>Ray Tracing</b></td>
            <td>Real-time ray-tracing of spheres and cylinders +
            Per-Pixel-Lighting surfaces. This mode uses OpenGL shading language
            features and requires a modern graphics card.</td>
          </tr>
        </table>

<p><span class="tip"><b>Tip!</b></span> To override the automatic
        graphics mode determination permanently, set the RC variable
        <tt>opengl.glsl.mode</tt> in your <tt>moe-rc</tt> file. Possible values
        are: 0 = Classic, 1 = PerPixelLight, 2 = Ray Tracing.</p>
      </td>
    </tr>
    <tr>
      <td><b>Anti-Alias</b></td>
      <td>
        Select anti-alias mode. To save your setting permanently use
        <span class="nobr"><b>MOE | Settings | Draw Settings | Save As
        Default.</b></span>
        <table class="noborder">
          <tr>
            <td><b>Off</b></td>
            <td>Disable all anti-aliasing</td>
          </tr>
          <tr>
            <td><b>Lines Only</b></td>
            <td>Anti-alias only thin lines.</td>
          </tr>
          <tr>
            <td><b><span class="nobr">High Quality</span></b></td>
            <td>
              Enable <a href="#AntiAliasing">Full-Scene Accumulation
              Anti-Aliasing</a>. <span class="nobr">(equivalent to <b>MOE |
              Settings | Draw Settings| High Quality Anti-Alias</b>)</span>
            </td>
          </tr>
        </table>

<p><span class="tip"><b>Tip!</b></span> The number of accumulation
        samples used for high quality anti-alias can be set with the SVL
        function <a href="../moe/fcnref/quality.htm" class="svl">AntiAlias</a>.
        The default number of samples is <tt>4</tt>.</p>
      </td>
    </tr>
    <tr>
      <td><b>Focal Blur</b></td>
      <td>
        Amount and quality of the focal blur effect. The higher the value the
        blurrier far objects get. A value of 0 disables the focal blur effect.
        The quality setting controls the number of samples used to generate the
        effect. Higher quality reduces the render speed.

<p>The focal blur effect requires an OpenGL accumulation buffer.</p>

<p><span class="tip"><b>Tip!</b></span> To set the focal point, click
        with the middle mouse button onto an atom at the desired focal
        point.</p>
      </td>
    </tr>
    <tr>
      <td><b>Silhouette</b></td>
      <td>Width (in angstroms) and color of silhouette outlines
      around objects. The silhouette outline effect is only available if the
      <b>Ray Tracing</b> graphics mode is used.</td>
    </tr>
    <tr>
      <td><b>Line Width</b></td>
      <td>The width of lines in graphics objects (in pixels). This
      option does not affect the width of bond lines!</td>
    </tr>
    <tr>
      <td><b>Multi Bonds</b></td>
      <td>
        Configure the rendering of higher order bonds (&quot;multi-bonds&quot;)
        in stick mode (Sticks and Ball-and-Sticks).
        <table class="noborder">
          <tr>
            <td><b><span class="nobr">Single
            Sticks</span></b></td>
            <td>Do not show multi-bonds for atoms in Stick or
            Ball-and-Stick mode.</td>
          </tr>
          <tr>
            <td><b><span class="nobr">Classic
            Sticks</span></b></td>
            <td>Single bonds and multi-bonds are shown in stick
            mode with the same stick diameter, i.e. a double bond appears wider
            than a single bond.</td>
          </tr>
          <tr>
            <td><b><span class="nobr">Thin Sticks</span></b></td>
            <td>Multi bonds are shown with thinner sticks in stick
            mode. A double bond appears roughly as wide as a single bond.</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td><b>Ligand Offset</b></td>
      <td>The offset value (in angstroms) increases the width of
      ligand atoms in Stick and Ball-and-Stick mode (see also <b>Molecules &
      Ribbons: Bond Cylinder</b>). This is useful to visually emphasize ligand
      molecules in protein-ligand complexes.</td>
    </tr>
    <tr>
      <td><b>Bond Color</b></td>
      <td>If enabled, the colors of the atoms are interpolated
      across the bond between them; i.e. the bond color fades between the two
      atom colors. This effect is only available if the <b>Ray Tracing</b>
      graphics mode is used.</td>
    </tr>
    <tr>
      <td><b>Text & Labels</b></td>
      <td>
        <div class="floatright">
          <img src="viewsetup/effects_fixedfont.png" alt=
          "Fixed Size Text and Labels Options" class="floatright" />

<p class="caption">Fixed Size Text &amp; Labels Options</p>
        </div>Choose between <b>Scalable</b> and <b>Fixed Size</b> fonts. This
        will be the font used to display atom labels and text in the MOE
        Window. If <b>Scalable</b> is selected, atom labels will scale
        according to the zoom level of the molecule in the MOE Window.
        Otherwise, the labels are of constant size independent of the zoom.
      </td>
    </tr>
    <tr>
      <td><b>Text Color</b></td>
      <td>Color of atom labels and text in the MOE Window.</td>
    </tr>
    <tr>
      <td><b>Shadow</b></td>
      <td>If enabled, label text casts a color- and background-dependent
      shadow to improve visibility. This effect is not available in the
      <b>Classic</b> graphics mode.</td>
    </tr>
    <tr>
      <td><b>Text Size</b></td>
      <td>Size of scalable labels and text (font height in
      angstroms).</td>
    </tr>
    <tr>
      <td><b>Size Factor</b></td>
      <td>Multiplicative factor used to calculate the fixed-font
      label and text size. The font size is calculated as the MOE menu font
      dimensions multiplied by the specified value.</td>
    </tr>
    <tr>
      <td><b><span class="nobr">Min Screen Size</span></b></td>
      <td>Set the minimum screen display size of scalable labels
      and text in the MOE Window. Labels and text will never be smaller than
      the MOE menu font dimensions multiplied by the specified value.</td>
    </tr>
    <tr>
      <td><b><span class="nobr">Max Screen Size</span></b></td>
      <td>Set the maximum screen display size of scalable labels
      and text in the MOE Window. Labels and text will never be larger than the
      MOE menu font dimensions multiplied by the specified value.</td>
    </tr>
  </table>
  <!-- ========================= MOLECULES & RIBBONS ======================= -->
<a id="MoleculesRibbons"></a>
<h2>Molecules & Ribbons</h2>

<p>The Molecules & Ribbons page of the Visualization Setup panel contains the
  dimensions and color parameters of the molecular system as well as the color
  and width settings of biopolymer ribbons.</p>
  <center>
    <img src="viewsetup/molecule.png" alt=
    "Molecules & Ribbons Page of Visualization Setup Panel" />

<p class="caption">Molecules & Ribbons Options</p>
  </center>
  <table class="noborder">
    <tr>
      <td><b>Atom Color</b></td>
      <td>Set individual element colors <nobr>(<b>MOE | Footer |
      Atoms | Color: Element</b>).</nobr> The element, whose colors will be
      changed, can be selected in the periodic system pulldown next to the
      color widget.</td>
    </tr>
    <tr>
      <td><b>Selected</b></td>
      <td>Color of the atom selection (when atoms are selected in
      the MOE window) as well as the color of the atom drag selection box.</td>
    </tr>
    <tr>
      <td><b>Default</b></td>
      <td>Element default color refers to the coloring of any
      elements which do not have a color specified in the current theme.
      Element colors for individual elements can be set and changed with the
      <b>Atom Color</b> option and are stored as part of a theme.</td>
    </tr>
    <tr>
      <td><b>Small Radius</b></td>
      <td>Radii of atom nuclei rendered in small-sphere mode
      (Ball-and-Line or Ball-and-Stick display mode). The radii are specified
      as a percentage of the atomic van der Waals radii. At 100%, it is
      equivalent to that of Space-Filling (sphere) mode, which is 0.75 times
      the van der Waals radius.</td>
    </tr>
    <tr>
      <td><b><nobr>Bond Cylinder</nobr></b></td>
      <td>Radius of bonds rendered as cylinders (Ball-and-Stick or
      Stick display mode) in angstroms.</td>
    </tr>
    <tr>
      <td><b>Bond Line</b></td>
      <td>Radius of a bond line (Ball-and-Line or Line display
      mode) in angstroms. If the graphics <b>Quality</b> is set to
      <b>Classic</b>, the value refers to the bond line width in pixels.</td>
    </tr>
    <tr>
      <td><b>Meters</b></td>
      <td>Color of measurement meters <nobr>(<b>MOE | RHS |
      Measure</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>Constraints</b></td>
      <td>Color of constraint meters (<nobr><b>MOE | RHS |
      Constrain</b></nobr>).</td>
    </tr>
    <tr>
      <td><b>Periodic Box</b></td>
      <td>Color of the periodic system box.</td>
    </tr>
    <tr>
      <td><b>Axes</b></td>
      <td>Color of the coordinate axes <nobr>(<b>MOE | Popup |
      Draw | Coordinate Axes</b>)</nobr>.</td>
    </tr>
    <tr>
      <td><b><nobr>H-Bond Line (A)</nobr></b></td>
      <td>Radius of non-bonded lines (hydrogen bonds and van der
      Waals clashes) in angstroms.</td>
    </tr>
    <tr>
      <td><b>H-Bonds</b></td>
      <td>Color of hydrogen bonds <nobr>(<b>MOE | Footer |
      Contacts</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>H-pi-Bonds</b></td>
      <td>Color of hydrogen-pi bonds <nobr>(<b>MOE | Footer |
      Contacts</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>vdW Clashes</b></td>
      <td>Color of van der Waals clashes <nobr>(<b>MOE | Footer |
      Contacts</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>Ribbon Loop</b></td>
      <td>Ribbon color and width in angstroms of protein loops
      <nobr>(<b>MOE | Footer | Ribbon</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>Helix</b></td>
      <td>Ribbon color and width in angstroms of protein helices.
      The parameter applies to all helix types (3-10, alpha, pi) as well as
      nucleic acid helices <nobr>(<b>MOE | Footer | Ribbon</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>Strand</b></td>
      <td>Ribbon color and width in angstroms of protein strands
      <nobr>(<b>MOE | Footer | Ribbon</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>Turn</b></td>
      <td>Ribbon color and width in angstroms of protein turns.
      The parameter applies to all turn types (3, 4, 5) <nobr>(<b>MOE | Footer
      | Ribbon</b>).</nobr></td>
    </tr>
    <tr>
      <td><b>Quality</b></td>
      <td>Ribbon quality combines the number of ribbon
      interpolation segments and sections into one value. A higher number of
      segments and sections increases the rendering quality of the
      ribbons.</td>
    </tr>
    <tr>
      <td><b>Ribbon Color</b></td>
      <td>If enabled, the ribbon color will be interpolated between
      differently colored ribbon segments, resulting in smooth
      color transitions between segments</td>
    </tr>
  </table>
  <!-- ========================== STEREO SETTINGS ========================== -->
<a id="StereoSettings"></a>
<h1>Stereo Settings</h1>

<p>The Stereo Settings panel contains the parameters used to specify the
  perspective projection and stereo parameters for the various <a href=
  "../moe/gui/mainwin.htm#DisplayModes">Display Modes</a> in MOE <nobr>(<b>MOE
  | Render | Stereo</b>).</nobr> To open the panel, select <span class=
  "nobr"><b>MOE | Render | Stereo | Stereo Mode | Settings</b></span> or
  <span class="nobr"><b>MOE | Settings | Stereo Mode | Stereo
  Settings</b></span>.</p>
  <center>
    <img src="viewsetup/stereo.png" alt="Stereo Settings Panel" />

<p class="caption">Stereo Settings Panel</p>
  </center>

<p>It is rarely necessary to change these parameters. In parallel projection
  mode (<span class="nobr"><b>MOE | Render | Stereo | Orthographic</b></span>),
  these parameters have no effect.</p>
  <table class="noborder">
    <tr>
      <td><b>Eye Location</b></td>
      <td>Specifies the viewer's position with respect to the
      center of the monitor, in millimeters. The X-axis points right, the
      Y-axis points up, and the Z-axis points out of the monitor toward the
      viewer. A negative X-coordinate and a negative Y-coordinate thus place
      the viewer below and to the left of the center of the monitor.</td>
    </tr>
    <tr>
      <td><b>Separation</b></td>
      <td>Distance between the viewer's left and right eyes,
      in millimeters. <b>Separation</b> and <b>Cross-Eye</b> are used to
      correct stereo mode images.</td>
    </tr>
    <tr>
      <td><b>Cross-Eye</b></td>
      <td>Exchange left and right eye in stereo mode. The
      <b>Cross-Eye</b> option is needed on systems where the assignment of left
      and right eyes in stereo mode is opposite to that in the MOE default
      setting.</td>
    </tr>
    <tr>
      <td><b><nobr>Left-Right Separation</nobr></b></td>
      <td>Controls the positioning of the two stereo images in
      Left-Right stereo mode (<span class="nobr"><b>Render | Stereo | Stereo
      Mode | Left-Right</b></span>). The separation is given as a percentage of
      the width of the 3D rendering area.</td>
    </tr>
    <tr>
      <td><b><nobr>Interlace Pattern</nobr></b></td>
      <td>
        Select the pattern for Interlace stereo mode:
        <table class="noborder">
          <tr>
            <td><b><span class="nobr">Horizontal</span></b></td>
            <td>Left and right eye image alternate in each
            horizontal line. Used by e.g. Zalman stereo monitors.</td>
          </tr>
          <tr>
            <td><b><span class="nobr">Vertical</span></b></td>
            <td>Left and right eye image alternate in each
            vertical line. Used by e.g. SeeReal stereo monitors.</td>
          </tr>
          <tr>
            <td><b><span class="nobr">Checker</span></b></td>
            <td>Left and right eye image alternate in a
            chessboard-like pattern. Used by DLP projectors.</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td><b>Over-Under Visible</b></td>
      <td>Controls the positioning of the two stereo images in
      Over-Under stereo mode (<span class="nobr"><b>Render | Stereo |
      Over-Under</b></span>). This parameter sets the amount of screen (in
      percentage of height), which is visible when the stereo emitter is turned
      on for Over-Under stereo.</td>
    </tr>
    <tr>
      <td><b>Offset</b></td>
      <td>Defines the number of pixels by which the lower half of
      the screen is shifted in Over-Under stereo mode.</td>
    </tr>
    <tr>
      <td><b>Save as Default</b></td>
      <td>Saves the current stereo and projection settings as the
      new default values into the <tt>moe-rc</tt> file, stored in the home
      directory.</td>
    </tr>
    <tr>
      <td><b><nobr>Restore Defaults</nobr></b></td>
      <td>Retrieves stereo and projections settings, which were
      saved using the <b>Save as Default</b> option.</td>
    </tr>
    <tr>
      <td><b><nobr>Standard Settings</nobr></b></td>
      <td>Reset stereo and projections settings to factory
      defaults.</td>
    </tr>
  </table>
  <div class="extra_info">

<h3>Correct Monitor Aspect Ratio</h3>

<p>MOE relies on information given by the monitor to calculate the pixel
    aspect ratio in the 3D MOE Window. Unfortunately some monitors report back
    incorrect information. In such cases the molecules in the window look
    stretched or squished. This can be corrected by setting a RC-variable in
    the user's <tt>moe-rc</tt> file:</p>

<pre>
vis.pixel_aspect_ratio = &lt;float&gt;    # default: 0.0
</pre>

<p>The default value is 0.0, in which case MOE uses the information
    provided by the monitor. A value of 1.0 will force square pixels. A pixel
    ratio slightly above 1.0 will result in &quot;wide&quot; pixels, below 1.0
    in &quot;narrow&quot; pixels.</p>
  </div>
  <!-- ====================== GRAPHICS CARD INFORMATION ==================== -->
<a id="GraphicsCardInformation"></a>
<h1>Graphics Card Information</h1>

<p>The Graphics Card Information panel gathers and reports information about
  the installed graphics card and driver, as well as the current status of
  MOE's 3D graphics system. Similar information is available on the command
  line, if MOE is started with the <b><a class="svl" href=
  "../install/install.htm#RunSwitch">-gfx</a></b> command line switch. The
  panel information can be helpful, in case of graphics problems.</p>

<p>To open the panel, select <span class="nobr"><b>MOE | Help | OpenGL
  Info.</b></span></p>
  <center>
    <img src="viewsetup/oglinfo.png" alt="Graphics Card Information Panel" />

<p class="caption">Graphics Card Information Panel</p>
  </center>
  <table class="noborder">
    <tr>
      <td><b>Copy To Clipboard</b></td>
      <td>Save the <b>OpenGL Information</b> text onto the
      clipboard.</td>
    </tr>
    <tr>
      <td><b>Save To File</b></td>
      <td>Save the <b>OpenGL Information</b> text into a
      file.</td>
    </tr>
    <tr>
      <td><b>Graphics Status</b></td>
      <td>
        The currently selected graphics mode and its status. If the graphics
        mode is correctly initialized, the status is <b>OK</b>, otherwise it is
        <b>Error</b>.

<p>The color of the text gives additional information:</p>
        <table class="titlebar">
          <tr>
            <th>Color</th>
            <th>Meaning</th>
          </tr>
          <tr>
            <td><b><font color="#00FF00">Green</font></b></td>
            <td>Graphics mode correctly initialized.</td>
          </tr>
          <tr>
            <td><b><font color="#0000FF">Blue</font></b></td>
            <td>Selected graphics mode exceeds MOE recommendations for this
            graphics card, but was correctly initialized.</td>
          </tr>
          <tr>
            <td><b><font color="#FF0000">Red</font></b></td>
            <td>Graphics mode initialization failed.<br />
            Please select another graphics mode.</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td><b>OpenGL Information</b></td>
      <td>
        <table class="titlebar">
          <tr>
            <th>Section</th>
            <th>Information</th>
          </tr>
          <tr>
            <td><b>Graphics Card Support</b></td>
            <td>Result of MOE's automatic graphics check and graphics mode
            recommendation.</td>
          </tr>
          <tr>
            <td><b>OpenGL Details</b></td>
            <td>Details of graphics card and driver abilities.</td>
          </tr>
          <tr>
            <td><b>OpenGL Shading Language</b></td>
            <td>Details about the OpenGL Shading Language (GLSL) implementation
            of the graphics driver.</td>
          </tr>
          <tr>
            <td><b>OpenGL Shaders</b></td>
            <td>Status of the GLSL programs.</td>
          </tr>
          <tr>
            <td><b>OpenGL Visual</b></td>
            <td>
              Information about OpenGL visual.

<p>If <b>Include Details of Unused OpenGL Visuals</b> is on, a
              list of all available Visuals is added. A &quot;+&quot; in the
              first column indicates that the visual meets the minimum MOE
              requirements. The currently used visual is marked with an
              &quot;=&quot;.</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

<p><br clear="both" />
  <!-- ==================== FULL-SCENE ANTI-ANTIALIASING =================== -->
<a id="AntiAliasing"></a>
</p>

<h1>Full-Scene Anti-Aliasing</h1>

<p>Anti-Aliasing is an important factor in producing high quality images.
  Without anti-aliasing the human eye can see the pixilated nature of
  low-resolution computer generated images. These visible artifacts are often
  referred to as &quot;jaggies&quot; and appear as stair-like lines instead of
  smooth straight lines or curves.</p>
  <center>
    <table class="noborder">
      <tr>
        <td>
          <img src="viewsetup/aliased.png" alt=
          "Picture Without Anti-Aliasing" />

<p class="caption"><b>NO</b> Anti-Aliasing (2x Magnification)</p>
        </td>
        <td>
          <img src="viewsetup/antialiased.png" alt=
          "Picture With Anti-Aliasing" />

<p class="caption">With Anti-Aliasing (2x Magnification)</p>
        </td>
      </tr>
    </table>
  </center>

<p>Different approaches exist to eliminate the aliasing artifacts:</p>

<h2>Accumulation Anti-Aliasing</h2>

<p>To enable accumulation anti-aliasing within MOE, turn on <span class=
  "nobr"><b>MOE | Settings | Draw Settings | High Quality Anti-Alias</b></span>
  or, equivalently, select <b>High Quality</b> from the <span class=
  "nobr">Effects &amp; Text</span> page of the Visualization Setup panel
  (<span class="menu">MOE | Render | Setup</span>).</p>

<p>The method renders the scene multiple times into a hidden OpenGL
  accumulation buffer and then displays the average picture. By default the
  scene is drawn 4 times for the interactive MOE window, and 8-12 times when a
  snapshot is done (<span class="nobr"><b>MOE | File | Save</b></span>).</p>

<p>Due to the multiple redrawing of the scene, anti-aliased rendering is
  slower than without anti-aliasing. Therefore by default the anti-aliasing is
  done with a half second delay after the last screen update. During rotation
  and manipulation of the molecule no anti-aliasing is done, in order to speed
  up the screen refresh. The delayed anti-aliasing can be disabled with the
  option: <b>MOE | Settings | Draw Settings | High Quality
  Rotation</b>.</p>

<p>High quality anti-aliasing requires, as described, an OpenGL accumulation
  buffer. Therefore this method works only if such a buffer is provided by the
  graphics card and driver (see also <a href="#KnownIssues">Known Issues</a>).
  Accumulation anti-aliasing delivers the best image quality possible, but is
  slower than hardware anti-aliasing.</p>
<a id="HardwareAntiAliasing"></a>
<h2>Hardware Anti-Aliasing</h2>

<p>Modern graphics cards provide built-in methods for full-scene
  anti-aliasing (FSAA). Two common methods are &quot;Supersampling&quot; and
  &quot;Multisampling&quot;:</p>
  <ul>
    <li>Supersampling draws the scene internally at a higher resolution and
    then down-samples it to the final displayed image. This results in a high
    quality image comparable to the accumulation anti-aliasing.</li>
    <li>Multisampling is a very fast specialized supersampling procedure, which
    only does anti-aliasing on polygon edges.</li>
  </ul>

<p>A multitude of sub-variants exist in graphics cards and drivers. Hardware
  anti-aliasing in MOE can only be enabled with the <b><a class="svl" href=
  "../install/install.htm#RunSwitch">-fsaa</a></b> command line switch. With
  the switch <b><a class="svl" href=
  "../install/install.htm#RunSwitch">-fsaa_mode&lt;num&gt;</a></b> one can
  request a specific number of samples (the higher, the better, but also
  slower). If MOE is started with the <tt>-fsaa</tt> command line switch,
  <b>High Quality Anti-Alias</b> is switched off by default in the menu.</p>
  <div class="extra_info">

<h3>Configure Hardware Anti-Aliasing</h3>

<p>Complete control over the hardware anti-aliasing is available only
    through the graphics driver of the operating system.</p>

<p>On Linux, NVidia graphics cards can be forced to use a specific
    anti-aliasing mode with the environment variable <tt>_GL_FSAA_MODE</tt>.
    Allowed settings range from 0 to 15 and can be determined with the NVidia
    program</p>

<pre>
    nvidia-settings --query=fsaa --verbose
</pre>Setting <tt>__GL_FSAA_MODE</tt> will force every OpenGL program started
from that shell into this specific mode.

<p>For further details on how to configure the hardware anti-aliasing of
    your specific graphics card, please consult the documentation of your
    graphics driver/card.</p>
  </div>
  <!-- ============================ KNOWN ISSUES =========================== -->
<a id="KnownIssues"></a>
<h1>Known Issues</h1>

<p>Graphics issues are often caused by outdated drivers. It is highly
  recommended that the graphics drivers be updated to the newest possible
  version.</p>

<p>The following is a list of known issues and their solutions.</p>
  <ul>
    <li>Some very old graphics drivers do not support the OpenGL off-screen
    buffer used to save pictures. This problem can affect any operating system.
    In such cases no panels may obscure the MOE 3D window while the picture is
    being saved or printed. Otherwise the obscuring panel might be visible in
    the final picture. Updating the graphics driver typically fixes this
    problem.</li>
    <li>On computer systems with some on-board AMD and Intel graphics cards
    the accumulation buffer can be faulty and produce visual artifacts. 
    Please switch to the floating-point accumulation buffer by starting
    MOE with the
    <b><a class="svl" href="../install/install.htm#RunSwitch">-accumfp</a></b>
    or disable the accumulation buffer with
    <b><a class="svl" href="../install/install.htm#RunSwitch">-noaccum</a></b>.
    </li>
    <li>On Unix systems, OpenGL remote display will not work correctly or at
    all across operating systems (e.g. running MOE on a macOS system and
    displaying the window on a Linux system).<br />
    OpenGL remote display from the same operating system (e.g. Linux to Linux)
    will support only the classic graphics mode.<br /></li>
    <li>On Linux systems with NVidia graphics cards, only the user logged in at
    the visual console has permissions to access the graphics card resources.
    If another user (e.g. guest account) tries to run MOE, the graphics driver
    will print an error message to the shell:

<pre>
NVIDIA: could not open the device file
         /def/nvidiactl (Permission denied)
NVIDIA: Direct rendering failed; attempting
         indirect rendering.
</pre>

<p>Consult the NVidia driver README on how to configure the driver to
      enable more general access to the graphics card device.</p>
    </li>
    <li>On macOS the MOE 3D Window might flicker. Disabling the stereo visual
    with the command line switch <b><a class="svl" href=
    "../install/install.htm#RunSwitch">-nostereo</a></b> fixes the
    problem. The same switch can also be used on Linux when other
    non-MOE windows start to flicker while MOE is running.</li>
  </ul>
  <!-- ============================ SVL COMMANDS =========================== -->
<a id="SVLCommands"></a>
<h1>SVL Commands</h1>

<p><a href="../moe/fcnref/view.htm">Molecule Viewing Functions</a><br />
  <a href="../moe/fcnref/quality.htm">Rendering Quality Functions</a><br />
  <a href="../moe/fcnref/stereo.htm">Stereo Projection Functions</a><br />
  <a href="../moe/fcnref/gobj.htm">Rendering Object Functions</a><br />
  <!-- ============================== SEE ALSO ============================= --></p>

<h1>See Also</h1>

<p><a href="../moe/gui/mainwin.htm">The MOE Window</a><br />
  <a href="../apps/filesave.htm">Saving the System</a><br />
  <a href="../moe/fcnref/rc.htm">Configuration File Functions</a>
  </p>
<!-- START MOE_FOOTER -->
  <div class="MOE_FOOTER">
    <img src="../images/ccgicon.png" /> <a href="../index.htm"></a> <a href=
    "../legal.htm"></a> &copy;<span class="versionyear"></span> <a href="http://www.chemcomp.com"></a>. All
    rights reserved.<br />
    <a href="mailto:info@chemcomp.com"></a>
  </div><!-- END MOE_FOOTER -->
</div>
</div>
</body>
</html>

