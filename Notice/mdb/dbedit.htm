<!DOCTYPE html>
<html>

<!--
!!    MOE On-Line Manuals
!!    COPYRIGHT (C) CHEMICAL COMPUTING GROUP ULC.  ALL RIGHTS RESERVED.
!!-->
<head>
  <meta http-equiv="x-ua-compatible" content="IE=9" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../include/manstyle.css" />
  <link rel="icon" type="image/png" href="../images/ccgicon.png" />
  <link rel="shortcut icon" type="image/png" href="../images/ccgicon.png" />
  <meta name="keywords" content="panel: New Database" />
  <meta name="keywords" content="panel: Add Entry" />
  <meta name="keywords" content="panel: Copy Molecule From MOE" />
  <meta name="keywords" content="panel: Copy Database Molecule To MOE" />
  <meta name="keywords" content="panel: Molecule Names" />
  <title>Creating and Editing Molecular Databases</title>
</head>
<body>
<div class="center-page">
  <!-- START MOE_HEADER -->
  <div class="MOE_HEADER">
    <a href="../index.htm"><img src="../images/ccglogo.png" /></a>
    <a href="../index.htm"><div class="moeversion"></div></a>
    Creating and Editing Molecular Databases
  </div>
<!-- END MOE_HEADER -->
<div class="content">
  <ul>
    <li><a href="#Introduction">Introduction</a></li>
    <li><a href="#CreatingFields">Creating Fields</a></li>
    <li><a href="#AddingEntries">Adding Entries</a></li>
    <li><a href="#EditingNumericAndCharacterCells">Editing Numeric and
    Character Cells</a></li>
    <li>
      <a href="#EditingMoleculeCells">Editing Molecule Cells</a>
      <ul>
        <li><a href="#CopyToMOE">Copying Molecules From the Database to
        MOE</a></li>
        <li><a href="#CopyFromMOE">Copying Molecules From MOE to the
        Database</a></li>
        <li><a href="#MoleculeNames">Extracting and Modifying Molecule
        Names</a></li>
      </ul>
    </li>
    <li>
      <a href="#Copying_and_Pasting_Using_the_Clipboard">Copying and Pasting
      Using the Clipboard</a>
      <ul>
        <li><a href="#Paste_to_Database_Panel">Paste to Database Panel</a></li>
      </ul>
    </li>
    <li><a href="#Common">Common Entry and Field Operations</a></li>
    <li><a href="#SVL">SVL Commands</a></li>
  </ul>

<h1>
<a id="Introduction">Introduction</a></h1>

<p>This chapter explains the basic steps involved in creating and editing
  databases containing numeric, text and molecular data entries. If you are
  looking for information on a specific menu or command, click on the links in
  the <a href="db.htm#QuickReference">Database Viewer Menu Bar</a>.</p>

<p>The MOE interface provides several ways of creating databases:</p>
  <ul>
    <li>In the <a href="../moe/gui/mainwin.htm">MOE Window</a> (and also in the
    <a href="../moe/gui/se.htm">Sequence Editor</a>), choose <span class=
    "menu">File | New | Database</span>.</li>
    <li>In the Database Viewer, choose <span class="menu">DBV | File |
    New</span>.</li>
  </ul>

<p>The following panel appears:</p>
  <img src="dbedit/createdb.png" alt="New Database Panel" class="center" />

<p>In the <b>New Database</b> panel, specify the path and name of the new
  database. The lower portion of the panel allows you to create three fields in
  the new database. If the name fields are left blank then no fields will be
  created. By default, a single molecule field is created with the field name
  of <b>mol</b>.</p>

<p>The <a href="#Molecular_Field"><b>Molecular Field</b></a>
  section of the panel is only available if there are molecules in the
  current system. It allows for importing these molecules during creation
  of the new database.  (Alternatively, they can be imported afterwards using
  the <a href="#AddingEntries"><b>Adding Entries</b></a> option in the
  Database Viewer.) If molecules are imported and non-molecule fields
  are created at the same time, one can specify a default value for
  populating the non-molecule fields.</p>

<p>Press <b>OK</b> to create the new database and open it in a Database
  Viewer.</p>

<h1><a id="CreatingFields">Creating Fields</a></h1>

<p>Fields hold numeric, character, or molecular data. Operations on fields
  are done via the Edit menu or the Field Popup menu (position the cursor over
  the field name and press the <a href=
  "../moe/gui/mouse.htm#MousePopupButton">mouse popup button</a>).</p>
  <ol>
    <li>In the Database Viewer, choose <span class="menu">DBV | Edit | New |
    Field</span>. You can also use the <a href="db.htm#Popups">Field Popup</a>
    menu: <span class="menu">DBV | Field Popup | New</span>.

<p>The CLI prompt area will display an option menu with the available
      database data types and a text field for entering the new field name.
      Non-molecule fields (i.e. numeric or character) can also take a value.
      The value will be replicated in the new field across all entries.</p>
      <img src="dbedit/newfield.png" alt="Create Field Prompt" class="center" />
    </li>
    <li>Select the type of field to create:
      <table class="noborder width-full">
        <tr>
          <td><tt>int</tt></td>
          <td>Numeric</td>
          <td>Integer value or vector of integers</td>
        </tr>
        <tr>
          <td><tt>float</tt></td>
          <td>Numeric</td>
          <td>Real number or vector of real numbers (4-byte IEEE floating point
          data)</td>
        </tr>
        <tr>
          <td><tt>char</tt></td>
          <td>Text</td>
          <td>String of characters</td>
        </tr>
        <tr>
          <td><tt>byte</tt></td>
          <td>Numeric</td>
          <td>8-bit numerical value ranging from <tt>-128</tt> to <tt>127</tt>
          inclusive</td>
        </tr>
        <tr>
          <td><tt>molecule</tt></td>
          <td>Molecular</td>
          <td>MOE molecular format (see <a class="svl" href=
          "../moe/fcnref/extract.htm#mol_Extract">mol_Extract</a>)</td>
        </tr>
        <tr>
          <td><tt>double</tt></td>
          <td>Numeric</td>
          <td>Real number or vector of real numbers (8-byte IEEE floating point
          data)</td>
        </tr>
      </table>
    </li>
    <li>Enter the name of the new field and, if desired, a value used to
    initialize the field. Press <tt>Return</tt> to create the field. The field
    names appear as column labels in the top row of the database. You can also
    use the <b>Apply</b> button to create the field. Using the <b>OK</b> button
    will create the field and dismiss the prompter.</li>
    <li>Repeat this procedure to create as many fields as required by the
    database you are creating. Once this is done, you can add entries to the
    database, as described below.</li>
  </ol>

<a id="Duplicate"></a>
<p>The <span class="menu">Field Popup | Duplicate</span> command can also be
  used to create a new field. In this case, an exact copy of the field is
  created. You will be asked to confirm the field creation. The name of the new
  field is automatically generated from the original field name by prefixing it
  with <tt>'Copy of '</tt>. If a field of this name already exists, the
  new field will be numbered (e.g. <tt>'Copy (2) of...'</tt>). The new
  field is positioned immediately to the right of the original field.</p>

<p>Multiple fields can be duplicated using the <span class="menu">Field Popup
  | Selection | Duplicate</span> command. The copied fields are appended, i.e.
  are positioned as the rightmost columns of the database.</p>

<h1>
<a id="AddingEntries">Adding Entries</a></h1>

<p>Entries are commonly added to a database automatically through many of
  MOE's applications. However, it is often required to add entries manually
  to a database in order to store data currently viewed in the MOE Window. This
  section describes how to add entries to a database and how to filter the
  system in order to copy only parts of the system into the new database
  cells.</p>

<p>To open the Add Entry panel use either of the following commands:</p>
  <ul>
    <li><span class="menu">DBV | Edit | New | Entry</span></li>
    <li><span class="menu">DBV | Entry Popup | New</span></li>
  </ul>

<p>A panel similar to the following appears:</p>
  <img src="dbedit/addentry.png" alt="Add Entry Panel" class="center" />

<p>The panel consists of two sections: the <a href=
  "#Molecular_Field"><b>Molecular Field</b></a> and the <a href=
  "#Non_Molecular_Fields"><b>Non-Molecular Fields</b></a>. If there are no
  fields of the specified type then that section will not be displayed.</p>

<p>To add a single new entry with no data initialization, set the <b>Mode</b>
  option to <b>None</b> and press <b>OK</b>. To add a single new entry with the
  entire system copied into the specified molecule field, simply press
  <b>OK</b>. <a id="Non_Molecular_Fields"></a>
</p>

<h2>Non-Molecular Fields</h2>

<p>The <b>Non-Molecular fields</b> section displays the non-molecular fields
  with text widgets for initialization values. Note that if the database has
  too many non-molecular fields then this list will be truncated.</p>

<p>To initialize numeric or character entries, enter values in the
  appropriate text fields. All fields are optional. Leaving a blank field in
  the panel results in an empty cell in the database (you can <a href=
  "#EditingNumericAndCharacterCells">edit</a> the cell contents later).
<a id="Molecular_Field"></a>
</p>

<h2>Molecular Field</h2>

<p>Molecular data can be extracted from the MOE system and inserted into the
  database using the <b>Molecular Field</b> section. The MOE system can be
  entered as a single component or can be split over several database entries.
  The <b>Mode</b> by which the system is broken down dictates how many new
  entries will be added to the database. For example, <b>Chain</b> mode will
  create a separate entry for each distinct chain in the system.</p>

<p>In addition to splitting up the system over several database entries, the
  atoms, residues and chains may be filtered to restrict the extraction based
  on visibility and selection states. Any objects not adhering to the filter
  requirements are not extracted. Two forms of filtering are provided:
  <b>Visibility</b> and <b>Selection</b> (with the resulting extraction being
  their intersection).</p>
  <img src="dbedit/molfields.png" alt="Molecular Fields" class="center" />

<p>The molecular data controls are as follows:</p>
  <div class="indent">
    <table class="noborder">
      <tr>
        <td valign="top"><b>Molecule</b></td>
        <td valign="top">The molecule field.</td>
      </tr>
      <tr>
        <td valign="top"><b>Visibility</b></td>
        <td valign="top"><b>Ignore</b>. Visibility status of atoms and residues
        is ignored. All atoms are considered for extraction.<br />
        <b>Atoms</b>. Only visible atoms are considered for extraction.<br />
        <b>Atoms and Ribbons</b>. Only visible atoms and residues whose ribbon
        is visible in the MOE Window are considered for extraction.</td>
      </tr>
      <tr>
        <td valign="top"><b>Mode</b></td>
        <td valign="top"><b>System</b>. Create a single entry with the objects
        that pass through the filters.<br />
        <b>Chain</b>. Create a separate entry for each chain in the system. If
        a chain is left with no residues after filtering then it is not given
        an empty entry.<br />
        <b>Chain Tag</b>. Create a separate entry for each distinct chain tag
        in the system. Blank chain tags are not grouped together.<br />
        <b>Chain Name</b>. Create a separate entry for each distinct chain name
        in the system. Blank chain names are not grouped together.<br />
        <b>Molecule</b>. Create a separate entry for each connected component
        in the system.<br />
        <b>None</b>. Molecular data is not extracted from the system.</td>
      </tr>
      <tr>
        <td valign="top"><b>Selection</b></td>
        <td valign="top"><b>Ignore</b>. Selection status of atoms, residues and
        chains is ignored. All atoms, residues and chains are considered for
        extraction.<br />
        <b>Selected Atoms</b>. Only selected atoms are considered for
        extraction.<br />
        <b>All Selected Objects</b>. Only selected atoms, residues and chains
        are considered for extraction.</td>
      </tr>
      <tr>
        <td valign="top"><b>Name</b></td>
        <td valign="top">
        Method to set the molecule name in the database:
        <p>
        <b>Auto</b>. Use first tag name, if empty, use first chain name.<br />
        <b>Chain Tag</b>. Use first non-empty chain tag.<br />
        <b>Chain Name</b>. Use first non-empty chain name.</td>
        </p>
      </tr>
      <tr>
        <td valign="top"><b>Sequence Only</b></td>
        <td valign="top">If on, only chains and residues will be extracted. No
        atom information will be written to the database.</td>
      </tr>
    </table>
  </div>

<p>If, after filtering, there are no objects in the system to extract, then a
  single empty entry is added to the database.</p>

<h1>
<a id="EditingNumericAndCharacterCells">Editing Numeric and Character Cells</a>
</h1>

<img src="dbedit/cell_popup.png" alt="Cell Popup Menu" class="floatright" />

<p>Numeric or character data can be edited by double-clicking in a data
  cell, using <span class="menu">Cell Popup | Edit</span>, or 
  <span class="menu">Field Popup | Edit Selected</span>. If the cell
  contains a single line of text or a single number or short series of numbers,
  the CLI will change to the Edit prompt. In the prompt, the field name and
  entry number are indicated. If multiple entries are selected in the Database
  Viewer, they can all be edited simultaneously by choosing
  <b>Entry # Popup | Selected Entries</b>.
  Enter the new value and press <tt>Return</tt> to update all
  selected cells to the same value and then close the prompt.
  Pressing <img src="dbedit/apply_icon.png"
  class="icon"> will apply the change without closing the prompt.
  To update a cell and move to
  the next visible cell, press <tt>Shift+Return</tt> or
  <tt>Shift+</tt><img src="dbedit/apply_icon.png" class="icon">. </p>

<p>For numeric data, the Edit prompt has the following appearance.
  The current cell is indicated by the blue border.</p>
  <img src="dbedit/editprompt.png" alt="Edit Prompt" class="center" />

<p>For character (text) data, the Edit prompt has an additional
  <img src="dbedit/edit_icon.png" class="icon"> multi-line edit button
  which, when pressed, will open a panel for editing
  the existing data. While the multi-line panel is open, the prompter is
  closed.</p>
  <img src="dbedit/editcharprompt.png" alt="Edit Prompt" class="center" />
  <img src="dbedit/editpanel.png" alt="Edit Panel" class="center" />

<p>This same panel is opened when double-clicking on a text cell that already
  contains multi-line text or on a numeric cell that contains a long series of
  numbers. Pressing <tt>Return</tt> in the editor panel will add newline
  characters.</p>
<p>
  One can choose also in the standalone panel to modify the contents of just
  the current cell or of all selected entries. To move to the previous
  or next cell, use the Up and Down arrow buttons.
  Press <b>OK</b> to apply the change and close the cell
  edit application. Pressing <b>Apply+Next</b> will apply the change
  and move to the next visible cell. The panel can be reattached with
  the <b>Attach</b> button, closing the panel and reopening the
  cell edit prompt. Reattachment is only possible when not editing
  a cell with multi-line text. The panel is also opened automatically,
  instead of the prompt, when choosing to edit a cell which already contains
  multi-line text.</p>

<h4>
<a id="ImagesInCharacterCells">Images in Character Cells</a>
</h4>

<p>Database fields of the <tt>char</tt> type can store arbitrary text
strings, including binary data. It is therefore possible to store the binary
data of a .png file in a cell. The Database Viewer will automatically
recognize if <tt>PNG</tt> image data is stored in a cell and then
show it. In addition to the <tt>PNG</tt> image bitmap format,
the Database Viewer also supports the internal
<a href="../svl/fcnref/grfcn.htm#gr_encode">image/grob</a> vector image
format of MOE, which is available as an option in the
<a href="../apps/print.htm#GraphicExportPanel">
<b>Export Image</b></a> panel accessible in MOE applications which create
images.</p>

<p>When editing a cell with image data, the image is opened in
the Export Image panel. Images can not be changed or edited other than by
using Copy/Paste to <a href="db.htm#DisplayingImages">replace</a>
the cell contents.</p>

<h4>
<a id="ClearNumericAndCharacterCells">Clear Numeric and Character Cells</a>
</h4>

<p>Clearing data from a cell can be accomplished by either editing the cell
  contents, using <span class="menu">Cell Popup | Clear</span>,
  or <span class="menu">Field Popup | Clear Selected</span>.</p>

<h1><a id="EditingMoleculeCells">Editing Molecule Cells</a></h1>
  <div class="floatright"><img src="dbedit/mol_popup.png" alt=
  "Molecule Cell Popup Menu" class="floatright" /></div>

<p>Molecular structures cannot be edited directly in the database itself. But
  they can be sent to a 2D sketcher or MOE for editing and then copied back
  into the database, overwriting the old structures. To edit a molecular
  structure with a <a href="../moe/sketcher.htm">2D sketcher</a>, use
  <span class="menu">Molecule Cell Popup | Sketch</span>. This can also be used
  to create a new structure in an empty molecule cell. To edit the database
  structure in the MOE Window, <a href="#CopyToMOE">copy the molecule to
  MOE</a>, perform the changes, then <a href="#CopyFromMOE">copy it back</a> to
  the database. To empty the contents of a molecule cell, use the <b>Clear</b>
  button in the Molecule Cell Popup. The contents of multiple, selected
  molecule cells can be cleared with
  <span class="menu">Field Popup | Clear Selected</span>.
</p>

<p>The molecule name can, however, be modified. Please refer to the section
  on <a href="#MoleculeNames">Extracting and Modifying Molecule Names</a>
  below.</p>

<p><span class="tip">Caution!</span> All edits are written directly to the
  database file on disk. No backups are made, and previous data is irrevocably
  lost.</p>

<h2><a id="CopyToMOE"></a>
Copying Molecules From the
  Database to MOE</h2>

<p>To copy a database molecule to MOE, you can either double-click within the
  molecule cell or select the <span class="menu">Send to MOE</span> command
  from the Molecule Cell Popup menu. In either case, you will be asked to
  confirm whether to clear the system before loading the molecule. The
  molecules that are copied to MOE will come from the field where the popup was
  issued.</p>

<p>Sequence-only data (i.e. residue information only, no atomic data) can
  similarly be copied into MOE using <span class="menu">Molecule Cell Popup |
  Send SEQ to MOE</span>. If several entries are currently selected, the
  molecules or sequences from all selected entries can be copied into MOE at
  once using
  <span class="menu">Molecule Cell Popup | Send Selected to MOE</span> or
  <span class="menu">Molecule Cell Popup | Send Selected SEQ to MOE</span>
  respectively.</p>

<p>Copying to MOE can also be achieved using the <a href=
  "#Copying_and_Pasting_Using_the_Clipboard">clipboard</a>.</p><!--

<p>
<table class="noborder width-full">
<tr>
<td valign="top"><b>Source&nbsp;Database</b>
<td valign="top">Path and filename of the current database.
</tr>
<tr>
<td valign="top"><b>Source Cell</b>
<td valign="top">field name and entry number of the molecule cell to copy to
the MOE system.

</tr>
<tr>
<td valign="top"><b>Clear&nbsp;Molecular&nbsp;Data</b>
<td valign="top">Clears the current MOE system
before copying the database molecule to the rendering area. If this option
is not selected, the database molecule will be added to the current system
in MOE.

</tr>
<tr>
<td valign="top"><b>Sequence Only</b>
<td valign="top">Loads only residue information, i.e. no atomic
data. If this option is not selected, then all information is loaded into
MOE.

</tr>
</table>
-->
  <!--

<p>
You can also copy molecules from selected entries
in the database to MOE by choosing
<span class="menu">Copy Selected to MOE</span></b>
in the Molecule Cell Popup.
If there is more than one molecular data field in the database,
remember that selected entries copied to MOE relate to the field
(i.e. column) in which the cursor was positioned when displaying
the popup.
-->

<p><b>Note:</b> Changes to the molecule in MOE are not reflected in the
  Database Viewer and do not modify the database data on disk. To change the
  database data, you must copy the molecule back to the database from the MOE
  system.</p>

<h2>
<a id="CopyFromMOE"></a>
Copying Molecules From MOE to
  the Database</h2>

<p>The <span class="menu">Get from MOE</span> command in the Molecule Cell
  Popup menu is used to copy a molecule from the MOE system to a specific cell
  in the database. This command opens the <span class="menu">Copy Molecule from
  MOE</span> panel:</p>
  <img src="dbedit/copyfrommoe.png" alt="Copy Molecule from MOE Panel" class="center" />

<p>The panel provides such information as the name of the database as well as
  the field name and row (entry) number of the cell to which the molecule will
  be copied. This panel is a simplified version of the Molecular field section
  of the <a href="#AddingEntries">Add Entry</a> panel. One difference is that
  the molecular field in which to write is fixed, having being set to the field
  from which the popup originated.</p>

<p>Copying to MOE can also be achieved using the <a href=
  "#Copying_and_Pasting_Using_the_Clipboard">clipboard</a>.</p>

<p>If the molecule field type is <tt>moe</tt> then additional data, like the
    data stored in the <tt>.moe</tt> file format, will be stored in the
    database cell. In addition to the all current rendering color and style
    information, which is always stored within the <tt>moe</tt> fields, one can
    specify saving graphics objects, as well as view, periodic boundary
    condition, and wall restraint information:</p>
<img src="dbedit/copyfrommoe2.png" class="center"
     alt="Copy MOE Molecule from MOE Panel" />

<a id="MoleculeNames"></a>
<h2>Extracting and Modifying Molecule Names</h2>

<p>Molecule names can be set to a user-specified value or calculated from the
  molecule itself. The <span class="menu">DBV | Compute | Molecule | Molecule
  Name</span> command opens the Molecule Name panel which is used to extract
  the name or the unique SMILES string of molecules and store the values in a
  character field. Alternatively, the panel can be used to set the name of a
  molecule in a molecule field to the molecule's unique SMILES string, or
  to the molecule index in the database, or to the value of a character field.
  The database must contain at least one molecular data field for this
  computation to succeed.</p>

<p>The Field Popup menu command <span class="menu">Molecule Field Popup |
  Name | Extract</span> will also open this panel.</p><!--

<p>
<img src="dbedit/molecule_name.png" alt="Molecule Names Panel"></center>
</p>
-->

<p>The controls in the Molecule Name panel are as follows:</p>
  <dl>
    <dd></dd>
    <dt><b>Database</b></dt>
    <dd>Path and filename of the current database which contains the molecules
    on which to operate.</dd>
    <dt><b>Selected Entries Only</b></dt>
    <dd>Perform the calculation only on entries that are selected in the
    Database Viewer.</dd>
    <dt><b>Operation</b></dt>
    <dd>
      The operation specifies whether you will be extracting information from
      the molecule field or storing data in the molecule structure located in
      the specified molecule field. The fields located below this line will
      change depending on the operation selected.

<p><b>Extract From Molecule</b></p>
        <img src="dbedit/molecule_name.png" alt=
        "Molecule Names: Extract From Molecule Page" class="center" />
      <div class="indent">

<p><b>Molecule Field</b>. List of molecular fields in the database.
        Select the field of molecular data to use in the calculations.</p>

<p><b>Output Field</b>. Name of the field that will contain the
        extracted data. If a field of this name does not exist then one will be
        created. The text contains a shortcut of the character fields in the
        database.</p>

<p><b>Extract</b>. The data to extract can be either the <b>Molecule
        Name</b>, <b>Chain Name</b>, <b>Chain Tag</b> or the
	unique <b>SMILES</b> string associated with the molecule.</p>

<p><b>Use chain name if molecule name is empty</b>. This option is
        available if the molecule name is the information being extracted. If
        on then the application will first try to extract a molecule name from
        the molecule and if no molecule name exists it will search the chain
        names until it finds a non-blank chain name to use.</p>
      </div>

<p><b>Store in Molecule</b></p>
      <img src="dbedit/molname_store.png" alt=
        "Molecule Names: Store in Molecule Page" class="center" />
      <div class="indent">

<p><b>Molecule Field</b>. List of molecular fields in the database.
        Select the field of molecular data to use in the calculations.</p>

<p><b>Name</b>. The molecule name of the molecular structure in the
        molecule field will be modified to contain one of the following:
        <table class="noborder">
        <tr>
          <td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="baseline"><b>SMILES</b></td>
          <td valign="baseline">
          The unique SMILES string associated with the molecule</td>
        <tr>
        <tr>
          <td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="baseline"><b>Index</b></td>
          <td valign="baseline">
          The entry number (index in the list of database entries)</td>
        <tr>
         <tr>
          <td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="baseline"><b>Field</b></td>
          <td valign="baseline">
          The string found in the specified field. The option
          menu to the right contains all fields. Choose the field
          to use for the name. If <b>Use Field Precision</b> is enabled,
          the current numerical display precision is applied to
          set the name from a numerical field.</td>
        <tr>
        <tr>
          <td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="baseline"><b>Tag</b></td>
          <td valign="baseline">The first non-empty chain tag</td>
        <tr>
        <tr>
          <td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="baseline"><b>Name</b></td>
          <td valign="baseline">The first non-empty chain name</td>
        <tr>
         <tr>
          <td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="baseline"><b>Clear</b></td>
          <td valign="baseline">Empty</td>
        <tr>
        </table>
        </p>

<p><b>Concatenate to existing name</b>. If on then the new name will
        not overwrite the old molecule name. Instead, the two values will be
        concatenated to form a new molecule name. The string to concatenate
        the two values can be specified (by default an underscore).
        </p>

<p><b>Copy name to each chain name</b>. If on then the new molecule
        name will be used to set both the molecule name as well as each chain
        name in the molecule.</p>

<p><b>Copy name to each chain tag</b>. If on then the new molecule name
        will be used to set both the molecule name as well as each chain tag in
        the molecule.</p>

<p><b>Copy name to each chain header</b>. If on then the new molecule
        name will be used to set both the molecule name as well as each chain
        header in the molecule.</p>
      </div>
    </dd>
  </dl>

<p>The <span class="menu">Molecule Field Popup | Name | Set</span> command as
  well as the <span class="menu">Molecule Cell Popup | Set Name</span> command
  can be used to set the molecule name manually. These commands display an
  editing prompt in the CLI of the database. Enter the new name of the molecule
  and press <tt>Return</tt> or <b>Apply</b>. Remember that to see the molecule
  name in the molecule field, the molecule cells must be reduced to a height of
  one character (drag the left mouse button to resize the cell).</p>
  <img src="dbedit/molname_prompt.png" alt="New Molecule Name Prompt" class="center" />
<a id="CopyPaste"></a>
<a id="Copying_and_Pasting_Using_the_Clipboard"></a>

<h1>Copying and Pasting Using the Clipboard</h1>

<p>The clipboard can be used for copying and pasting molecular and
  non-molecular data within and between Database Viewers, and between the MOE
  Window and a Database Viewer. The following table summarizes the clipboard
  operations. The <a href="#Paste_to_Database_Panel">Paste to Database</a>
  panel is described below.</p>
  <table class="titlebar">
    <tr>
      <th>Copy Command</th>
      <th>Paste Command</th>
      <th>Description</th>
    </tr>
    <tr>
      <td valign="top"><span class="menu">DBV | Edit | Copy</span><br />
      <span class="menu">Molecule Cell Popup | Copy As</span><br />
      <span class="menu">Molecule Cell Popup | Copy SEQ</span></td>
      <td valign="top"><span class="menu">MOE | Edit | Paste</span></td>
      <td valign="top">Copy molecular data from a MOE database into MOE. When
      using the Database Viewer Edit menu, non-molecular data may have been
      copied to the clipboard at the same time as the molecular data. The
      non-molecular data will be ignored.</td>
    </tr>
    <tr>
      <td valign="top"><span class="menu">MOE | Edit | Copy As</span><br />
      <span class="menu">MOE | Edit | Copy SEQ</span></td>
      <td valign="top"><span class="menu">DBV | Edit | Paste</span><br />
      <span class="menu">Molecule Cell Popup | Paste</span></td>
      <td valign="top">Copy molecular data from MOE into a MOE database. The
      molecular data can be copied with all its atomic data or with only its
      residue information (sequence-only).</td>
    </tr>
    <tr>
      <td valign="top"><span class="menu">DBV | Edit | Copy</span><br />
      <span class="menu">Molecule Cell Popup | Copy As</span><br />
      <span class="menu">Molecule Cell Popup | Copy SEQ</span><br />
      <span class="menu">Cell Popup | Copy</span></td>
      <td valign="top"><span class="menu">DBV | Edit | Paste</span><br />
      <span class="menu">Molecule Cell Popup | Paste</span><br />
      &nbsp;<br />
      <span class="menu">Cell Popup | Paste</span></td>
      <td valign="top">Copy and paste within and between MOE databases. When
      using the Edit menu commands, multiple fields and multiple entries can be
      copied and then pasted.</td>
    </tr><!--
<tr>
<td valign="top">
<span class="menu">Molecule Cell Popup | Copy As</span><br />
<span class="menu">Molecule Cell Popup | Copy SEQ</span><br />
<span class="menu">Cell Popup | Copy</span>
</td>
<td valign="top">
<span class="menu">DBV | Edit | Paste</span><br />
</td>
<td valign="top">
Copy molecular data from a MOE database molecule
cell and paste into a MOE database.  The molecule can be copied
to the clipboard with all its atomic data or with only its
residue information (sequence-only).
</li>
</td>
</tr>

<tr>
<td valign="top">
<span class="menu">DBV | Edit | Copy</span>
</td>
<td valign="top">
<span class="menu">Molecule Cell Popup | Paste</span>
</td>
<td valign="top">
Copy molecular data from a MOE database
and paste into a single MOE database molecule cell.
</td>
</tr>
--><tr>
      <td valign="top"><span class="menu">MOE | Edit | Copy As | Image</span>
      <td valign="top"><span class="menu">Character Cell Popup | Paste</span>
      <td valign="top">Copy image of molecule in MOE into a MOE database. The
      image can only be pasted into a Character field cell.</td>
    </tr>
    <tr>
      <td valign="top">
      <span class="menu">Export Image | Format: Clipboard GROB</span><br />
      <span class="menu">Export Image | Format: Clipboard PNG</span>
      <td valign="top"><span class="menu">Character Cell Popup | Paste</span>
      <td valign="top">Copy image from the
      <a href=""../apps/print.htm#GraphicExportPanel"><b>Export Image</b></a>
      panel into a Character field cell.
      </td>
    </tr>

  </table>

<h2>
<a id="Paste_to_Database_Panel">Paste to
  Database Panel</a></h2>

<p>When pasting to a database using the <span class="menu">DBV | Edit |
  Paste</span> command, the Paste to Database panel is opened. This panel
  appears in two versions, depending on the clipboard data. If the clipboard
  data is of a recognized type (molecular data or data copied from a database
  and therefore whose type is known), the following version of the panel is
  opened.</p>
  <img src="dbedit/paste_dbv_panel.png" alt="Paste to Database" class="center" />
  <table class="noborder">
    <tr>
      <td valign="baseline"><b>Import Map</b></td>
      <td valign="baseline">
        This area gives the mapping between the clipboard data and the
        destination fields in the database. The column under the Clipboard
        heading lists the data fields on the clipboard. The column under the
        Destination heading lists the fields of the destination database into
        which the clipboard data will be written. The column under the Type
        heading gives the destination field type and indicates how the
        clipboard data will be written. Currently selected fields are indicated
        by <tt>(SEL)</tt> and new fields to be created are indicated by
        <tt>(NEW)</tt>.

<p>The destination field can be changed using the <b>Destination</b>
        specification.</p>
      </td>
    </tr>
    <tr>
      <td valign="baseline"><b>Data Summary</b></td>
      <td valign="baseline">This area summarizes the number of items (broken
      down in terms of rows and fields) on the clipboard, as well as the number
      of cells (broken down in terms of entries and fields) currently selected
      in the Database Viewer.</td>
    </tr>
    <tr>
      <td valign="baseline"><b>Destination</b></td>
      <td valign="baseline">The field in the destination database to which the
      corresponding clipboard field will be written. This text field is
      available when a single entry is selected in the Import Map list. If the
      specified field does not already exist in the database, it will be
      created. Press <tt>Return</tt> to update the Import Map.</td>
    </tr>
    <tr>
      <td valign="baseline"><b>Type</b></td>
      <td valign="baseline">The destination field type. The type is only
      modifiable when specifying a new destination field. Otherwise the type
      reports the field type of the existing field in the database.</td>
    </tr>
    <tr>
      <td valign="baseline"><b>SKIP</b></td>
      <td valign="baseline">Removes the fields currently selected in the Import
      Map from the paste operation. The skipped fields are indicated in the
      Import Map by the absence of a destination field.</td>
    </tr>
    <tr>
      <td valign="baseline"><b>Paste</b></td>
      <td valign="baseline">
        The manner in which the clipboard data will be written to the database.
        <ul>
          <li><b>Block.</b> Clipboard data will be written to the destination
          fields of a sequential block of entries starting with the
          currently selected entry. This mode requires that a single entry be
          selected in the Database Viewer.</li>
          <li><b>Selected.</b> Clipboard data will be written to the
          destination fields of the selected entries, beginning with the first
          selected entry. If the clipboard contains more rows than there are
          selected entries, new entries will be appended to the database. This
          mode requires that at least one entry be selected in the Database
          Viewer.</li>
          <li><b>Append.</b> Clipboard data will be written as new entries
          appended to the database.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td valign="baseline"><b>Paste empty clipboard cells</b></td>
      <td valign="baseline">If on, pasting an empty clipboard cell is
      equivalent to erasing the data in the corresponding destination database
      cell. If off, empty clipboard cells are skipped.</td>
    </tr>
  </table>

<p>If the clipboard data is unrecognized, it is treated as plain text, and
  the Paste to Clipboard panel will contain a preview area:</p>
  <img src="dbedit/paste_panel.png" alt="Paste to Clipboard with Preview" class="center" />
  <table class="noborder">
    <tr>
      <td valign="baseline"><b>Clipboard Data</b></td>
      <td valign="baseline">Data preview area. The header (top line) contains
      the field titles, if any. Each column of data corresponds to a clipboard
      data field. Each row of data represents one line of clipboard data. The
      total number of items on the clipboard is the number of fields multiplied
      by the number of rows.</td>
    </tr>
    <tr>
      <td valign="baseline"><b>Format</b></td>
      <td valign="baseline">
        <div class="floatright"><img src="dbedit/paste_format.png" alt=
        "Format" class="floatright" /></div>The field delimiter menu, along with the field Titles
        and Quotes options, specifies how the text data on the clipboard is to
        be interpreted. The chosen delimiter determines how each row of text is
        to be broken into fields.
      </td>
    </tr>
    <tr>
      <td valign="baseline"><b>Field Titles</b></td>
      <td valign="baseline">If on, the first row of clipboard data will be used
      as field titles. The titles will appear in the header line of the preview
      area.</td>
    </tr>
    <tr>
      <td valign="baseline"><b>Quotes</b></td>
      <td valign="baseline">If on, field data will be stripped of any enclosing
      double quotes.</td>
    </tr>
  </table>

<p>Note: fields are preferentially pasted to the fields currently selected in
  the destination database and to fields of the same name. If a field of the
  same name is found but is of different type than the original data, the
  clipboard data will be converted to the destination field type before being
  pasted.</p>

<a id="Common"></a>
<h1>Common Entry and Field Operations</h1>

<p>Field operations are performed using the Edit menu or the Field Popup, and
  are described in the <a href="db.htm#DisplayingAndEditingFields">MOE Database
  Viewer</a> chapter. Common operations include:</p>
  <ul>
    <li><a href="db.htm#SelectingFields">Selecting fields</a></li>
    <li><a href="db.htm#HideShowFields">Hiding and showing fields</a></li>
    <li><a href="db.htm#Precision">Adjusting the precision of numeric values in
    fields</a></li>
    <li><a href="db.htm#MovingFields">Changing the order of fields in the
    database</a></li>
    <li><a href="db.htm#RenamingFields">Renaming fields</a></li>
    <li><a href="db.htm#DeletingFields">Deleting fields</a></li>
  </ul>

<p>Entry operations are performed using the Edit menu or the Entry Popup, and
  are described in the <a href="db.htm#DisplayingAndEditingEntries">MOE
  Database Viewer</a> chapter. Common operations include:</p>
  <ul>
    <li><a href="db.htm#SelectingEntries">Selecting entries</a></li>
    <li><a href="db.htm#HideShowEntries">Hiding and showing entries</a></li>
    <li><a href="db.htm#DeletingEntries">Deleting entries</a></li>
    <li><a href="db.htm#SortingEntries">Sorting entries</a></li>
  </ul>

<h1>
<a id="SVL">SVL Commands</a></h1>

<p><a href="../moe/fcnref/introdb.htm">Database Functions</a></p>

<h1>See Also</h1>

<p><a href="db.htm">MOE Database Viewer</a><br />
  <a href="dbio.htm">Importing Data</a><br />
  <a href="dbio.htm#Merge">Merging Databases</a><br />
  <a href="dbcalc.htm">Molecular Database Calculator</a><br />
  <a href="../apps/combitools.htm#ClipReaction">Clipping R-Groups</a><br />
  <a href="../tutorials/mpgtut.htm">MOE Programming Tutorial</a>

<!-- START MOE_FOOTER -->
  <div class="MOE_FOOTER">
    <img src="../images/ccgicon.png" /> <a href="../index.htm"></a>
<a href=
    "../legal.htm"></a> &copy;<span class="versionyear"></span> <a href="http://www.chemcomp.com"></a>. All
    rights reserved.<br />
    <a href="mailto:info@chemcomp.com"></a>
  </div><!-- END MOE_FOOTER -->
</div>
</div>
</body>
</html>

