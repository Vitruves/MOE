<!DOCTYPE html>
<html>

<!--
!!    MOE On-Line Manuals
!!    COPYRIGHT (C) CHEMICAL COMPUTING GROUP ULC.  ALL RIGHTS RESERVED.
!!-->
<head>
  <meta http-equiv="x-ua-compatible" content="IE=9" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href=
  "../../../include/manstyle.css" />
  <meta name="keywords" content="keywords: FSB, FSBText" />
  <meta name="keywords" content="functions: Widget:FSB" />
  <meta name="keywords" content="functions: FSB (widget)" />
  <meta name="keywords" content="functions: Widget:FSBText" />
  <meta name="keywords" content="functions: FSBText (widget)" />
  <title>FSB, FSBText Widgets</title>
</head>
<body>
<div class="center-page">
  <!-- START MOE_HEADER -->
  <div class="MOE_HEADER">
    <a href="../../../index.htm"><img src="../../../images/ccglogo.png" /></a>
    <a href="../../../index.htm"><div class="moeversion"></div></a>
    FSB, FSBText Widgets
  </div>
<!-- END MOE_HEADER -->
<div class="content">

<h1>Description</h1>

<p><tt>FSB</tt> is a&nbsp;file selection box containing a&nbsp;list of files
  and subdirectories of the currently searched directory. Note: The labels and
  bubble help use the term &quot;folder&quot; to refer to directories.</p>

<p>The top line of the box is used to select or to type in the&nbsp;pathname
  of the&nbsp;browsed directory. The bottom line is used to type in
  the&nbsp;<i>value</i> of the&nbsp;FSB, i.e. the&nbsp;filenames that are
  reported to the caller by <tt>WindowWait</tt> or <tt>WindowGetData</tt>.
  Additional functionality is available via the filter menu on the bottom right
  and the popup menu that opens on right-button click or after
  pressing&nbsp;<tt>Alt</tt>.</p>

<p>By default, <tt>FSB</tt> is set to trigger when a&nbsp;user double-clicks
  on a&nbsp;filename in the file list, or when the user activates the text
  field by typing a&nbsp;filename and pressing <tt>Return</tt>.</p>

<p><tt>FSBText</tt> provides a&nbsp;file selection box text field. File name
  completion is activated with the&nbsp;<tt>Tab</tt> key. The directory in
  which the file name completion searches is specified with
  the&nbsp;<tt>directory</tt> attribute. If no directory is specified then the
  current directory is used.</p>

<h1>Attributes</h1>

<p><tt>FSB</tt> and <tt>FSBText</tt> inherit all <a class="svl" href=
  "wt_core.htm">core</a> attributes and define the following attributes:</p>

<p><tt>FSBText</tt> further defines:</p>
  <table class="titlebar">
    <tr>
      <th valign="baseline" width="15%">Attribute</th>
      <th valign="baseline" width="50%">Description</th>
      <th valign="baseline" width="20%">Values</th>
      <th valign="baseline" width="15%">Default</th>
    </tr>
    <tr>
      <td><tt>allowBlank</tt></td>
      <td>If true then an empty file name will be
      allowed</td>
      <td>1 (True)<br />0 (False)</td>
      <td><tt>1</tt></td>
    </tr>
    <tr>
      <td><tt>directory</tt></td>
      <td>Directory which the text field will use for file
      name completion</td>
      <td>token</td>
      <td><tt>[]</tt></td>
    </tr>
    <tr>
      <td><tt>len</tt></td>
      <td>Length of the text field</td>
      <td>Maximum of 255</td>
      <td><tt>40</tt></td>
    </tr>
    <tr>
      <td><tt>mode</tt></td>
      <td>File validation mode</td>
      <td><a class="svl" href=
      "wt_const.htm">WINDOW_FSB_MODES</a></td>
      <td><tt>&#39;none&#39;</tt></td>
    </tr>
    <tr>
      <td><tt>shortcut</tt></td>
      <td>List of tokens to appear as a pulldown list located
      in the rightmost position of the text field</td>
      <td><tt>vector of tokens</tt></td>
      <td><tt>[]</tt></td>
    </tr>
    <tr>
      <td><tt>shortcutTitle</tt></td>
      <td>Title to appear on the pulldown list. Will not be
      displayed if <tt>shortcut</tt> is empty.</td>
      <td><tt>token</tt></td>
      <td><tt>&#39;&#39;</tt></td>
    </tr>
    <tr>
      <td><tt>emptyText</tt></td>
      <td>Token displayed when the text field is empty.</td>
      <td><tt>token</tt></td>
      <td><tt>&#39;&#39;</tt></td>
    </tr>
    <tr>
      <td><tt>emptyForeground</tt></td>
      <td>Color used for displaying the
      <tt>emptyText</tt>.</td>
      <td><a class="svl" href=
      "wt_const.htm">WINDOW_COLORS</a></td>
      <td><tt>&#39;none&#39;</tt><br />
        (grayed&nbsp;<tt>&#39;textForeground&#39;</tt>)</td>
    </tr>
    <tr>
      <td><tt>extensionText</tt></td>
      <td>File extension token which is displayed in gray
      and added automatically to the text if no dot extension
      is specified.</td>
      <td><tt>token</tt></td>
      <td><tt>&#39;&#39;</tt></td>
    </tr>
  </table>

<p><tt>FSB</tt> further defines:</p>
  <table class="titlebar">
    <tr>
      <th valign="baseline" width="15%">Attribute</th>
      <th valign="baseline" width="50%">Description</th>
      <th valign="baseline" width="20%">Values</th>
      <th valign="baseline" width="15%">Default</th>
    </tr>
    <tr>
      <td><tt>len</tt></td>
      <td>Number of rows displayed in the file list</td>
      <td>1 to 127</td>
      <td><tt>15</tt></td>
    </tr>
    <tr>
      <td><tt>mode</tt></td>
      <td>File validation mode</td>
      <td><a class="svl" href=
      "wt_const.htm">WINDOW_FSB_MODES</a></td>
      <td><tt>&#39;none&#39;</tt></td>
    </tr>
    <tr>
      <td><tt>width</tt></td>
      <td>Width of the widget on creation, in units of
      &quot;characters&quot;, approximately the width of the
      letter&nbsp;&quot;W&quot;.</td>
      <td>0 to 127</td>
      <!-- ms: note: 2012 default is width=39, but I leave it unspecified
    !! because no code should depend on it: the default may change without
    !! notice or could depend on other factors (OS, environment, contents) -->
      <td>unspecified</td>
    </tr>
    <tr>
      <td><tt>filter</tt></td>
      <td>List of patterns used as the current filter. The
      FSB will show only filenames that match one of the patterns. Empty list
      is ignored. A&nbsp;single empty token is interpreted
      as&nbsp;<tt>&#39;*&#39;</tt>.</td>
      <td><tt>vector of tokens</tt></td>
      <td><tt>&#39;*&#39;</tt></td>
    </tr>
    <tr>
      <td><tt>filterList</tt></td>
      <td>The titles and values of filters in the filter
      menu. Each item is a token that stores an optional title followed by a
      comma-separated list of patterns. The title is separated from the list of
      patterns by the TAB character (i.e.&nbsp;<tt>&#39;\t&#39;</tt>). If the
      first item is an empty token, it is replaced by
      <tt>&#39;All&nbsp;Files\t*&#39;</tt></td>
      <td><tt>vector of tokens</tt></td>
      <td><tt>none</tt></td>
    </tr>
    <tr>
      <td><tt>filterIndex</tt></td>
      <td>Determines which of the titled filters in by the
      filter menu (and set by <tt>filterList</tt>) is the current filter. Value
      0 indicates that the current filter is not one of the titled filters and
      its value is the contents of the filter menu textfield (typically
      typed-in by the user).</td>
      <td><tt>0,1,2...</tt></td>
      <td><tt>0</tt></td>
    </tr><!-- 2012: for now, type, multiSelect remains undocumented
-->
    <tr>
      <td><tt>type</tt></td>
      <td>Determines the form the FSB value and events that
      cause FSB to trigger. (See <i>Trigger</i> and <i>Data Value</i>
      below).</td>
      <td><tt>&#39;char&#39;, &#39;modint&#39;</tt></td>
      <td><tt>&#39;char&#39;</tt></td>
    </tr>
    <tr>
      <td><tt>multiSelect</tt></td>
      <td>
        List selection policy.
        <p>Note: Multi-select can be used only when <tt>type</tt> is set
        to <tt>&#39;modint&#39;</tt>.</p>
      </td>
      <td><tt>0</tt> (Single select)<br />
      <tt>1</tt> (Multi-select style 1)<br />
      <tt>2</tt> (Multi-select style 2)</td>
      <td><tt>0</tt></td>
    </tr>
    <tr>
      <td><tt>dirMode</tt></td>
      <td>Determines whether or not directories (folders)
      will can be specified as FSB return values.</td>
      <td><tt>0</tt> (Files only)<br />
      <tt>1</tt> (Files and directories)<br />
      <tt>2</tt> (Directories only)</td>
      <td><tt>0</tt></td>
    </tr>
    <tr>
      <td><tt>keyNavigation</tt></td>
      <td>Allow list navigation and selection with the keyboard.
      <tt>Up</tt> and <tt>Down</tt> keys move the selection, the
      <tt>Shift</tt> key modifier allows range selection in
      multi-select lists.</td>
      <td>1 (True)<br />
      0 (False)</td>
      <td><tt>1</tt></td>
    </tr>
    <tr>
      <td><tt>enableWheel</tt></td>
      <td>Enable scrolling with the mouse wheel</td>
      <td>1 (True)</br>0 (False)</td>
      <td><tt>1</tt></td>
    </tr>
<!-- obsolete
  <tr>
    <td><tt>recentDirs</tt></td>
    <td>List of recent directories to be loaded into
    the recent directories popup, provided as tokens.
    The new directories will be added to the current list.
    Duplicate entries will be ignored.</td>
    <td><tt>'dir1;dir2;dir3...'</tt></td>
    <td><tt>[]</tt></td>
  </tr>
-->
  </table>

<h3>Selection Styles</h3>

<p>
The FSB widget has three selection policies to choose from:
</p>

<table class="noborder">
<tr>
<td>Single select</td>
<td>Exactly zero or one item may be selected.  Clicking on
a new item automatically deselects the currently selected item.
</td>
</tr>

<tr>
<td>Multi-select style 1
<td>
Click on an item to select or deselect it.<br />
<tt>Shift</tt>-click extends the selection. <br />
<tt>Ctrl</tt>-click clears the selection.
</td>
</tr>

<tr>
<td>Multi-select style 2</td>
<td>
Click on an item to select it and deselect all other
items.<br />
<tt>Shift</tt>-click extends the selection.<br />
<tt>Ctrl</tt>-click toggles the selection state of an item.
</td>
</tr>

</table>
<h3>Trigger</h3>

<p>If the FSB <tt>type</tt> is <tt>&#39;char&#39;</tt>, the widget will
  trigger when the user double-clicks on a&nbsp;filename or types
  a&nbsp;filename in the bottom textfield and presses <i>Return</i>.</p>

<p>If the FSB <tt>type</tt> is <tt>&#39;modint&#39;</tt>, the widget will
  report a double-click trigger for the above events (with the
  <tt>WMOD_DBL</tt> bit set in the third element of the return value).
  Additionally, the FSB will report a&nbsp;single-click trigger with each
  change in the return value, i.e. a change in the browsed directory, the
  selection or the typed-in value.</p>

<h3>Data Value</h3>

<p>If the FSB <tt>type</tt> is <tt>&#39;char&#39;</tt>, the FSB value is the
  absolute pathname of the selected or typed-in file. If there is no file is
  selected or typed-in, the value is the pathname of the browsed directory,
  followed by a&nbsp;slash.</p>

<p>If the FSB <tt>type</tt> is <tt>&#39;modint&#39;</tt>, the FSB value is a
  triplet of values:</p>
  <ul>
    <li>browsed directory</li>
    <li>selected or typed-in filename or filenames</li>
    <li>position of the last selected item (if any), together with modifier
    bits</li>
  </ul>

<h1>See Also</h1>

<p><a href="wt_core.htm">Core Attributes</a><br />
  <a href="wt_text.htm">Text Widget</a><br />
  <a href="../wt_intro.htm">SVL Window Toolkit</a><br />
  <a href="introwt.htm">Window Toolkit Functions</a><br />
  <a href="../../../tutorials/wintour.htm">Window Toolkit Tutorial</a></p>
  <!-- START MOE_FOOTER -->
  <div class="MOE_FOOTER">
    <img src="../../../images/ccgicon.png" /> <a href="../../../index.htm"></a>
    <a href="../../../legal.htm"></a> &copy;<span class="versionyear"></span>
    <a href="http://www.chemcomp.com"></a>. All rights reserved.<br />
    <a href="mailto:info@chemcomp.com"></a>
  </div><!-- END MOE_FOOTER -->
</div>
</div>
</body>
</html>

